<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>1 Manipulate | Manipulate</title>
  <meta name="description" content="" />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="1 Manipulate | Manipulate" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="1 Manipulate | Manipulate" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  


<script src="site_libs/header-attrs-2.9/header-attrs.js"></script>
<script src="site_libs/jquery-3.5.1/jquery.min.js"></script>
<link href="site_libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="site_libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="site_libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="site_libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="site_libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="site_libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="site_libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="site_libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="site_libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="site_libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<link href="site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="site_libs/datatables-binding-0.18/datatables.js"></script>
<link href="site_libs/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="site_libs/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="site_libs/dt-core-1.10.20/js/jquery.dataTables.min.js"></script>
<link href="site_libs/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet" />
<script src="site_libs/crosstalk-1.1.1/js/crosstalk.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path=""><a href="#manipulate"><i class="fa fa-check"></i><b>1</b> Manipulate</a>
<ul>
<li class="chapter" data-level="" data-path=""><a href="#learning-objectives"><i class="fa fa-check"></i>Learning Objectives</a></li>
<li class="chapter" data-level="" data-path=""><a href="#tips-for-using-rstudio"><i class="fa fa-check"></i>Tips for using RStudio</a></li>
<li class="chapter" data-level="1.1" data-path=""><a href="#read-online-table"><i class="fa fa-check"></i><b>1.1</b> Read online table</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path=""><a href="#create-manipulate.rmd-in-r3-exercises"><i class="fa fa-check"></i><b>1.1.1</b> Create <code>manipulate.Rmd</code> in r3-exercises</a></li>
<li class="chapter" data-level="1.1.2" data-path=""><a href="#get-url-to-csv"><i class="fa fa-check"></i><b>1.1.2</b> Get URL to CSV</a></li>
<li class="chapter" data-level="1.1.3" data-path=""><a href="#download-csv"><i class="fa fa-check"></i><b>1.1.3</b> Download CSV</a></li>
<li class="chapter" data-level="1.1.4" data-path=""><a href="#read-table-read.csv"><i class="fa fa-check"></i><b>1.1.4</b> Read table <code>read.csv()</code></a></li>
<li class="chapter" data-level="1.1.5" data-path=""><a href="#show-table-dtdatatable"><i class="fa fa-check"></i><b>1.1.5</b> Show table <code>DT::datatable()</code></a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path=""><a href="#wrangle-data"><i class="fa fa-check"></i><b>1.2</b> Wrangle data</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path=""><a href="#install-r-packages"><i class="fa fa-check"></i><b>1.2.1</b> Install R packages</a></li>
<li class="chapter" data-level="1.2.2" data-path=""><a href="#manipulate-with-dplyr"><i class="fa fa-check"></i><b>1.2.2</b> Manipulate with <code>dplyr</code></a></li>
<li class="chapter" data-level="1.2.3" data-path=""><a href="#tidy-with-tidyr"><i class="fa fa-check"></i><b>1.2.3</b> Tidy with <code>tidyr</code></a></li>
<li class="chapter" data-level="1.2.4" data-path=""><a href="#summarize-with-dplyr"><i class="fa fa-check"></i><b>1.2.4</b> Summarize with <code>dplyr</code></a></li>
<li class="chapter" data-level="1.2.5" data-path=""><a href="#apply-functions-with-purrr-on-a-nested-tibble"><i class="fa fa-check"></i><b>1.2.5</b> Apply functions with <code>purrr</code> on a <code>nest</code>’ed <code>tibble</code></a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path=""><a href="#rmarkdown-output-options"><i class="fa fa-check"></i><b>1.3</b> Rmarkdown output options</a></li>
<li class="chapter" data-level="" data-path=""><a href="#further-reading"><i class="fa fa-check"></i>Further Reading</a>
<ul>
<li class="chapter" data-level="" data-path=""><a href="#cheatsheets"><i class="fa fa-check"></i>Cheatsheets</a></li>
</ul></li>
<li class="chapter" data-level="" data-path=""><a href="#further-learning-objectives"><i class="fa fa-check"></i>Further Learning Objectives</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<!--bookdown:title:end-->
<!--bookdown:title:start-->
<div id="manipulate" class="section level1" number="1">
<h1><span class="header-section-number">1</span> Manipulate</h1>
<div id="learning-objectives" class="section level2 unnumbered objectives">
<h2>Learning Objectives</h2>
<ol style="list-style-type: decimal">
<li><p><strong>Read</strong> online table.</p>
<ol style="list-style-type: decimal">
<li><p><strong>Download</strong> a tabular file, in commonly used comma-separated value (<strong>*.csv</strong>) format, from the URL of a dataset on an <strong>ERDDAP</strong> server.</p></li>
<li><p><strong>Read</strong> a CSV file into a <code>data.frame()</code> using base R <code>utils::read.csv()</code>.</p></li>
</ol></li>
<li><p><strong>Show</strong> the table.</p>
<ol style="list-style-type: decimal">
<li><p><strong>Show</strong> the <code>data.frame</code> in the R console.</p></li>
<li><p><strong>Render</strong> the table into HTML with <code>DT::datatable()</code>.</p></li>
</ol></li>
<li><p><strong>Wrangle</strong> with <code>tibble</code>, <code>dplyr</code>, <code>tidyr</code> and <code>purrr</code>.</p>
<ol style="list-style-type: decimal">
<li><p><strong>Convert</strong> the <code>data.frame</code> to a tidyverse <code>tibble()</code> and show it again, now with a more informative summary.</p></li>
<li><p><strong>Pipe</strong> commands with <code>%&gt;%</code> from <code>dplyr</code> for feeding the output of the function on the left as the first input argument to the function on the right.</p></li>
<li><p><strong>Select</strong> columns of information with <code>select()</code>, optionally using select operators like <code>starts_with()</code>.</p></li>
<li><p><strong>Filter</strong> rows of information based on values in columns with <code>filter()</code>.</p></li>
<li><p><strong>Mutate</strong> a new column with <code>mutate()</code>, possibly derived from other column(s).</p></li>
<li><p><strong>Summarize</strong> all rows with <code>summarize()</code>. Precede this with <code>group_by()</code> to summarize based on rows with common values of a given column.</p></li>
<li><p><strong>Nest</strong> tables inside of tables with a <code>tibble</code> and tidyr’s <code>nest()</code>. Build a linear model object (<code>lm()</code>) into another <strong>list column</strong> per grouping using purrr’s <code>map()</code>. Extract values from this model object as double with <code>map_dbl()</code>.</p></li>
</ol></li>
</ol>
</div>
<div id="tips-for-using-rstudio" class="section level2 unnumbered">
<h2>Tips for using RStudio</h2>
<ol style="list-style-type: decimal">
<li><p>Always launch RStudio from an <code>*.Rproj</code> file so it sets the working directory.</p></li>
<li><p>Use the <a href="https://rstudio.github.io/visual-markdown-editing/#/">Visual Markdown Editor</a> (version 1.4+; see menu RStudio &gt; About RStudio to check your version) to easily create Markdown in your Rmarkdown document.</p></li>
</ol>
</div>
<div id="read-online-table" class="section level2" number="1.1">
<h2><span class="header-section-number">1.1</span> Read online table</h2>
<p>In this first set of exercises we’ll read marine ecological indicators from <a href="https://www.integratedecosystemassessment.noaa.gov/regions/california-current">California Current - Home | Integrated Ecosystem Assessment</a> (IEA). These datasets are also being served by an <strong>ERDDAP</strong> server (which is “a data server that gives you a simple, consistent way to download subsets of scientific datasets in common file formats and make graphs and maps.”).</p>
<div id="create-manipulate.rmd-in-r3-exercises" class="section level3" number="1.1.1">
<h3><span class="header-section-number">1.1.1</span> Create <code>manipulate.Rmd</code> in r3-exercises</h3>
<p>Open your Rstudio project for the r3-exercises by double-clicking on the <code>r3-exercises.Rproj</code> file (from Windows Explorer in Windows; Finder in Mac). This will set the working directory in the R Console to the same folder.</p>
<p>In RStudio menu, <strong>File</strong> -&gt; <strong>New File</strong> -&gt; <strong>R Markdown…</strong> I suggest giving it a title of “Manipulate” and saving it as <code>manipulate.Rmd</code>. Let’s delete everything <strong><em>after</em></strong> the first R chunk, which is surrounded by <em>fenced backticks</em>:</p>
<p><code>```{r setup, include=FALSE}</code></p>
<p><code>knitr::opts_chunk$set(echo = TRUE)</code></p>
<p><code>```</code></p>
<p>And create a new heading and subheading:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">## Read online table</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">### Download table (`*.csv`)</span></span></code></pre></div>
</div>
<div id="get-url-to-csv" class="section level3" number="1.1.2">
<h3><span class="header-section-number">1.1.2</span> Get URL to CSV</h3>
<p>Please visit the ERDDAP server <a href="oceanview.pfeg.noaa.gov/erddap">https://oceanview.pfeg.noaa.gov/erddap</a> and please do a <em>Full Text Search for Datasets</em> using “cciea” in the text box before clicking <strong>Search</strong>. These are all the California Current IEA datasets.</p>
<p>From the listing of datasets, please click on <a href="https://oceanview.pfeg.noaa.gov/erddap/tabledap/cciea_AC.html"><strong>data</strong></a> for the “CCIEA Anthropogenic Drivers” dataset.</p>
<p>Note the filtering options for <code>time</code> and other variables like <code>consumption_fish (Millions of metric tons)</code> and <code>cps_landings_coastwide (1000s metric tons)</code>. Set the time filter from being only the most recent time to the entire range of available time from <code>1945-01-01</code> to <code>2020-01-01</code>.</p>
<p>Scroll to the bottom and <strong>Submit</strong> with the default <code>.htmlTable</code> view. You get an web table of the data. Notice the many missing values in earlier years.</p>
<p>Go back in your browser to change the the <strong>File type</strong> to <code>.csv</code>. Now instead of clicking Submit, click on <strong>Just generate the URL</strong>. Although the generated URL lists all variables to include, the default is to do that, so we can strip off everything after the <code>.csv</code>, starting with the query parameters <code>?</code> .</p>
</div>
<div id="download-csv" class="section level3" number="1.1.3">
<h3><span class="header-section-number">1.1.3</span> Download CSV</h3>
<p>Let’s use this URL to download a new file in a new R Chunk (RStudio menu <strong>Code</strong> -&gt; <strong>Insert Chunk</strong>). Paste the following inside your R Chunk:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># set variables</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>csv_url  <span class="ot">&lt;-</span> <span class="st">&quot;https://oceanview.pfeg.noaa.gov/erddap/tabledap/cciea_AC.csv&quot;</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="co"># if ERDDAP server down (Error in download.file) with URL above, use this:</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co">#    csv_url &lt;- &quot;https://raw.githubusercontent.com/noaa-iea/r3-train/master/data/cciea_AC.csv&quot;</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>dir_data <span class="ot">&lt;-</span> <span class="st">&quot;data&quot;</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="co"># derived variables</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>csv <span class="ot">&lt;-</span> <span class="fu">file.path</span>(dir_data, <span class="fu">basename</span>(csv_url))</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="co"># create directory</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="fu">dir.create</span>(dir_data, <span class="at">showWarnings =</span> F)</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="co"># download file</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">file.exists</span>(csv))</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">download.file</span>(csv_url, csv)</span></code></pre></div>
<p>Then click the green Play button to execute the commands in the R Console. After the last command you should see something like:</p>
<pre><code>trying URL &#39;https://oceanview.pfeg.noaa.gov/erddap/tabledap/cciea_AC.csv&#39;
downloaded 53 KB</code></pre>
</div>
<div id="read-table-read.csv" class="section level3" number="1.1.4">
<h3><span class="header-section-number">1.1.4</span> Read table <code>read.csv()</code></h3>
<p>Now open the file by going into the <strong>Files</strong> RStudio pane, <strong>More</strong> -&gt; <strong>Show Folder in New Window</strong>. Then double click on <code>data/cciea_AC.csv</code> to open in your Spreadsheet program (like Microsoft Excel or Apple Pages or LibreOffice Calc). Mine looks like this:</p>
<p><img src="figs/manipulate/cciea_AC_xls.png" width="600"/></p>
<p>Let’s try to read in the csv by adding a new subsection in your Rmarkdown file:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">### Read table `read.csv()`</span></span></code></pre></div>
<p>Then create a new R Chunk and add the following lines to the R chunk:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># attempt to read csv</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(csv)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="co"># show the data frame</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>d</span></code></pre></div>
<p>Note how the presence of the 2nd line with units makes the values character <code>&lt;chr&gt;</code> data type:</p>
<p><img src="figs/manipulate/cciea_AC_read.csv.png" width="600"/></p>
<p>But we want numeric values. So we could manually delete that second line of units or look at the <strong>help</strong> documentation for this function (<code>?read.csv</code> in Console pane; or <code>F1</code> key with cursor on the function in the code editor pane). Notice the <code>skip</code> argument, which we can implement like so:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># read csv by skipping first two lines, so no header</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(csv, <span class="at">skip =</span> <span class="dv">2</span>, <span class="at">header =</span> <span class="cn">FALSE</span>)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>d</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="co"># update data frame to original column names</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(d) <span class="ot">&lt;-</span> <span class="fu">names</span>(<span class="fu">read.csv</span>(csv))</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>d</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a><span class="co"># update for future reuse (NEW!)</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(d, csv, <span class="at">row.names =</span> F)</span></code></pre></div>
<p>You can run above one line at a time with <strong>Code</strong> -&gt; <strong>Run Selected Lines</strong> (note the keyboard shortcut, which depends on your operating system). This will allow you to see how the data.frame <code>d</code> evolves. When running the w</p>
</div>
<div id="show-table-dtdatatable" class="section level3" number="1.1.5">
<h3><span class="header-section-number">1.1.5</span> Show table <code>DT::datatable()</code></h3>
<p>Next, let’s render your Rmarkdown to html by clicking on <strong>Knit</strong> button (with the blue ball of yarn). Notice how all those times of outputting <code>d</code> show the full dataset with each line prefixed by a comment. There are many prettier ways to show tables in Rmarkdown. We’ll use the <code>DT</code> R package to start.</p>
<p>You’ll need to install the R package if you don’t already have it. Check by searching for it in the <strong>Packages</strong> pane and <strong>Install</strong> if missing.</p>
<p>Let’s start by commenting the previous instances of d (lines 36, 40, 44 for me) by prefixing with a <code>#</code>. Then try adding this subsection:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">### Show table `DT::datatable()`</span></span></code></pre></div>
<p>And in a new R chunk:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># show table</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>DT<span class="sc">::</span><span class="fu">datatable</span>(d)</span></code></pre></div>
<div id="htmlwidget-5160f01c51514acb1151" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-5160f01c51514acb1151">{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76"],["1945-01-01T00:00:00Z","1946-01-01T00:00:00Z","1947-01-01T00:00:00Z","1948-01-01T00:00:00Z","1949-01-01T00:00:00Z","1950-01-01T00:00:00Z","1951-01-01T00:00:00Z","1952-01-01T00:00:00Z","1953-01-01T00:00:00Z","1954-01-01T00:00:00Z","1955-01-01T00:00:00Z","1956-01-01T00:00:00Z","1957-01-01T00:00:00Z","1958-01-01T00:00:00Z","1959-01-01T00:00:00Z","1960-01-01T00:00:00Z","1961-01-01T00:00:00Z","1962-01-01T00:00:00Z","1963-01-01T00:00:00Z","1964-01-01T00:00:00Z","1965-01-01T00:00:00Z","1966-01-01T00:00:00Z","1967-01-01T00:00:00Z","1968-01-01T00:00:00Z","1969-01-01T00:00:00Z","1970-01-01T00:00:00Z","1971-01-01T00:00:00Z","1972-01-01T00:00:00Z","1973-01-01T00:00:00Z","1974-01-01T00:00:00Z","1975-01-01T00:00:00Z","1976-01-01T00:00:00Z","1977-01-01T00:00:00Z","1978-01-01T00:00:00Z","1979-01-01T00:00:00Z","1980-01-01T00:00:00Z","1981-01-01T00:00:00Z","1982-01-01T00:00:00Z","1983-01-01T00:00:00Z","1984-01-01T00:00:00Z","1985-01-01T00:00:00Z","1986-01-01T00:00:00Z","1987-01-01T00:00:00Z","1988-01-01T00:00:00Z","1989-01-01T00:00:00Z","1990-01-01T00:00:00Z","1991-01-01T00:00:00Z","1992-01-01T00:00:00Z","1993-01-01T00:00:00Z","1994-01-01T00:00:00Z","1995-01-01T00:00:00Z","1996-01-01T00:00:00Z","1997-01-01T00:00:00Z","1998-01-01T00:00:00Z","1999-01-01T00:00:00Z","2000-01-01T00:00:00Z","2001-01-01T00:00:00Z","2002-01-01T00:00:00Z","2003-01-01T00:00:00Z","2004-01-01T00:00:00Z","2005-01-01T00:00:00Z","2006-01-01T00:00:00Z","2007-01-01T00:00:00Z","2008-01-01T00:00:00Z","2009-01-01T00:00:00Z","2010-01-01T00:00:00Z","2011-01-01T00:00:00Z","2012-01-01T00:00:00Z","2013-01-01T00:00:00Z","2014-01-01T00:00:00Z","2015-01-01T00:00:00Z","2016-01-01T00:00:00Z","2017-01-01T00:00:00Z","2018-01-01T00:00:00Z","2019-01-01T00:00:00Z","2020-01-01T00:00:00Z"],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,4.7204,5.1835084,5.457682,4.7768083,5.6537747,6.345068,7.8837166,5.3694816,5.200477,5.3511925,6.2837963,4.709695,4.4824815,4.6146674,5.260583,4.824254,5.2201314,5.3706517,5.153821,5.1537166,5.4452586,5.600782,5.691464,6.869543,6.5180273,7.1365685,6.634469,7.022054,7.4132686,7.427557,7.3012495,9.228863,8.762439,7.4797835,7.4729934,7.773657,7.671381,7.885127,7.8622165,8.221815,8.633859,9.002085,9.238439,9.305806,9.50549,9.301274,8.729113,8.575209,8.945912,9.580959,9.423486,9.529504,9.54694,9.709253,9.7519865,10.0964985,10.024164,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,25.310434,27.396957,28.440218,24.584686,28.757732,31.932877,39.281067,26.489773,25.355793,25.764025,29.937073,22.226007,20.95595,21.364183,24.131094,21.908493,23.450706,23.85894,22.634241,22.407444,23.450706,23.904299,24.085735,28.803091,27.079443,29.392761,27.079443,28.39486,29.664917,29.392761,28.576296,35.74305,33.611168,28.440218,28.168064,28.98453,28.3495,28.89381,27.85055,28.848452,29.937073,30.934975,31.433926,31.343206,31.706081,30.798897,28.667015,27.895908,28.848452,30.708178,29.982431,30.11851,29.937073,30.209227,30.163868,30.980333,30.61746,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,116.21788,110.54331,67.3079,62.74488,57.027885,62.64654,70.160774,70.89682,72.125946,59.847538,52.955654,46.463108,35.60063,29.618853,57.19815,54.73983,78.28767,69.8862,76.77924,92.16015,84.51943,70.76864,42.46778,57.694237,49.63753,69.65935,97.843895,77.47071,48.114193,37.08029,33.425545,30.761684,24.198038,27.49925,26.137749,11.369577,9.179026,21.604836,15.813196,9.268106],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,117.5161,111.801315,68.29199,63.4282,57.592735,64.07723,71.69704,72.10193,73.143906,61.042988,54.352356,50.17142,37.011078,30.790209,58.195614,56.039715,81.241066,72.70256,79.30252,107.287384,109.988846,110.50674,80.7939,103.65834,102.496086,111.67782,146.6982,110.46956,83.15287,71.14253,52.933334,112.311226,82.20391,46.275444,29.628448,17.732964,10.709334,22.491945,17.717768,10.178402],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.13332944,0.13288565,0.102128506,0.28154084,0.13121225,0.8569282,0.8844431,0.28207716,0.26658925,0.34301192,0.39105755,1.3734558,0.7179198,0.4700794,0.40298897,0.46842065,2.1398294,1.7700099,1.5612152,9.8737135,13.375852,22.866022,25.64073,36.458538,45.577805,36.91872,43.42265,25.464804,23.786085,21.19577,11.080226,44.560936,26.953205,9.876858,2.7833173,5.691394,1.0911413,0.4002557,1.5055883,0.62790537],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,1.1648855,1.1251119,0.88196087,0.40177992,0.43363747,0.57376075,0.65182,0.9230356,0.7513748,0.85243845,1.0056444,2.3348567,0.69252527,0.7012758,0.5944753,0.8314647,0.81356585,1.0463561,0.96206206,5.2535214,12.093568,16.872078,12.685389,9.505569,7.2807546,5.09975,5.43165,7.534048,11.25259,12.866473,8.427563,36.98861,31.052666,8.899336,0.7073818,0.6719933,0.439167,0.48685458,0.3989836,0.28238937],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,64.93665,66.92373,63.71637,32.27016,36.55801,34.307426,38.362568,37.364975,31.43936,34.791904,32.06915,30.051678,11.618735,12.676226,25.79966,34.833344,38.247986,12.888199,14.21951,19.123877,17.894732,13.633394,7.4793406,9.206709,6.6596866,12.218097,13.443954,13.610157,11.196222,6.2584343,7.6760216,6.869592,6.090018,6.623558,4.3466763,2.205303,2.2265868,3.9403956,2.722816,1.4924828],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,66.971405,69.18495,65.53864,33.26631,38.143955,35.70522,40.278793,40.232136,33.614544,36.98994,34.27827,31.946447,12.735817,13.575982,26.895153,35.847004,38.93888,13.603164,14.814701,22.034075,22.4193,21.16666,14.277497,17.841368,16.184338,17.968395,20.438328,22.63158,20.10931,16.165825,14.222566,26.868551,21.74529,15.21184,5.805178,3.8325078,2.5279503,4.213491,2.9997582,1.6556244],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.1698527,0.11738083,0.22778687,0.11463004,0.6041244,0.21493615,0.5495578,0.52258325,0.57213426,0.5364376,0.33174393,0.26835126,0.084017895,0.03646339,0.17411399,0.23300357,0.13303706,0.09529661,0.1440769,1.7109337,2.3076484,3.8382173,3.9234672,6.422714,7.972984,4.9193983,5.8725443,7.011803,6.484498,6.2948794,3.7501216,10.421284,7.1646886,4.40358,0.9973655,1.2596855,0.041655023,0.007071201,0.047087003,0.008690012],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,1.8648946,2.1438413,1.5944817,0.8815208,0.9818191,1.1828562,1.3666654,2.3445766,1.6030486,1.6615951,1.877377,1.6264169,1.033064,0.8632933,0.9213791,0.78065574,0.55785817,0.6196686,0.45111433,1.1992642,2.2169197,3.6950476,2.8746898,2.2119448,1.5516676,0.83090085,1.1218281,2.009621,2.4285898,3.6125104,2.7964227,9.577675,8.490584,4.184701,0.46113643,0.36751947,0.25970846,0.266024,0.22985542,0.1544515],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,1.777526,5.3946633,3.0772932,3.3789365,3.1206932,3.5689418,4.803724,4.797262,5.084303,3.1072502,6.2806706,5.2343426,5.2506676,3.4492593,6.499864,7.4605374,2.480103,5.8109717,4.920776,4.4801836,3.173126,2.232175,7.0216703,10.455038,11.947007,11.3335905,6.742013,4.409297,3.4253793,8.421339,13.151441,15.268963,12.025737,9.0638895,8.633678,6.211875,10.897726,10.050433,6.6489887,6.9065986],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,4.7846856,11.112274,7.457051,8.362162,7.4266696,9.216391,9.158662,16.971943,21.039698,11.325312,13.819478,13.057343,17.383308,18.587885,24.280682,26.00015,12.6757,15.476201,15.853863,22.363031,13.757027,17.077219,28.025448,32.85771,41.720634,35.16154,22.978506,20.090912,17.368805,29.887527,36.35685,29.940237,32.094135,24.274187,20.429329,22.857409,32.996174,31.059582,25.352505,23.190948],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,1.7206523,3.9709895,1.9797325,2.2444232,2.2715824,3.2225533,2.1489415,3.9507804,5.091557,4.22466,3.7844558,3.4786162,4.957682,4.6981688,6.9120793,8.029227,3.2271264,3.228823,4.1389337,7.1469216,3.3905458,5.979231,7.8401375,10.782408,15.2960205,12.537567,6.9176693,5.613984,5.9691153,10.553067,9.674799,6.52123,8.276685,6.54754,3.7517695,6.4616747,9.2836485,10.495432,8.487836,9.095038],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,1.2865072,1.7466218,2.4000254,2.738802,2.034394,2.4248958,2.205997,8.223901,10.863837,3.9934013,3.7543514,4.344384,7.174959,10.440456,10.868738,10.5103855,6.9684706,6.436406,6.7941537,10.735926,7.1933546,8.865813,13.16364,11.620266,14.47761,11.290384,9.318824,10.067632,7.97431,10.91312,13.53061,8.150044,11.791715,8.662758,8.0438795,10.183859,12.814797,10.513716,10.215679,7.1893106],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,11.149676,31.771011,19.640852,26.906828,23.178032,23.54255,32.39083,29.001228,29.252092,17.416904,39.664196,27.001839,22.923275,15.977165,37.805824,35.729557,16.457315,37.76281,29.178307,29.31748,21.130411,13.64715,34.94356,52.53391,55.0632,53.639782,41.24346,30.339119,20.166325,42.945225,68.74295,111.62878,81.51848,71.0038,70.36589,45.50824,79.217636,75.69407,51.247704,49.64901],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,29.940908,66.13579,52.44358,70.30094,58.69183,63.982544,63.9933,99.47635,110.706856,70.36126,90.4832,67.43607,74.679565,89.01753,150.63278,124.2243,88.39579,101.13007,102.82922,152.69554,93.08562,100.176056,138.92474,169.30551,191.43623,166.38533,144.92421,137.16614,103.16676,167.83684,227.73239,229.97191,226.55621,210.10005,194.00444,202.18753,252.28185,252.61617,211.55904,183.0119],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,11.448459,24.1704,15.208328,19.35901,19.049948,23.51715,15.74372,23.817701,27.502752,25.71022,25.255663,17.96905,20.73984,22.298677,43.01134,37.53513,21.730444,20.043266,25.572493,48.648746,23.20423,34.38226,36.678802,54.68799,66.96361,56.37697,42.4001,36.059204,32.005726,53.488388,57.456196,48.317493,54.88407,55.375355,37.40026,55.885628,67.02535,77.558685,68.59635,72.91091],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,7.342773,10.194378,17.594402,24.035099,16.46385,16.922842,15.85875,46.65742,53.95201,27.234135,25.563343,22.465189,31.016447,50.741688,69.81562,50.95961,50.208027,43.323997,48.078426,74.72931,48.750973,52.14665,67.302376,62.08362,69.409424,56.368584,61.280643,70.76782,50.994713,71.40323,101.53324,70.025635,90.15366,83.7209,86.23829,100.79366,106.03886,99.36341,91.71498,60.45198],[-1.8674945,-1.7984143,-1.7190671,-1.639943,-1.6148859,-1.598818,-1.5228152,-1.4576764,-1.4160874,-1.3942516,-1.3741456,-1.3869847,-1.3463273,-1.3218495,-1.1828823,-1.165683,-1.11889,-1.0136812,-0.8539213,-0.6851688,-0.6029306,-0.38635367,-0.13431978,0.010863921,0.107198976,0.11690907,0.28612196,0.2945472,0.41063538,0.5114693,0.22293173,0.69870234,0.88316226,0.5956715,0.8815517,0.8646904,0.9328318,0.61102706,0.14462493,0.66265184,0.5849161,0.33543608,0.09787487,0.27749425,0.2994788,0.42466897,0.20684569,0.25494522,0.3718531,0.54252267,0.74711293,1.0730047,0.7147828,0.6094366,0.5001082,0.61528766,0.6938754,1.4379501,1.2998954,1.8189435,1.3962495,1.6500777,1.3727181,1.2325065,0.12078044,0.7210453,0.8113788,0.15581024,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.011499918,0.19792622,0.9245584,1.5143269,1.1974702,2.0666006,4.2382917,4.253665,4.8357162,4.8673377,5.4907174,5.8041854,2.6125607,5.532433,6.0492606,7.5720124,5.9352574,10.307242,6.64254,6.110394,5.810878,7.116636,7.6990604,7.923261,8.407519,7.4672847,8.695631,6.8336368,9.2442875,10.431387,8.01694,6.7170115,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,42.560184,52.650967,39.88558,38.36963,39.967464,38.793175,36.914173,33.359142,35.71226,33.833553,29.93368,29.907112,24.986078,21.1729,24.628496,25.874617,24.225187,17.662739,14.125865,11.625255,9.68136,9.491828,8.885465,7.5399656,7.3004575,6.6574225,7.581279,8.272853,8.550544,7.7615247,7.366884,6.431373,6.701876,6.927777,6.6111345,5.8474364,7.9359164,6.369132,6.1110883,5.922216],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,108.90887,124.748,102.98842,92.184166,90.55098,82.9183,91.432236,89.44894,95.23348,87.70658,85.69497,80.5566,76.57629,64.690414,62.657486,64.20762,57.843285,45.234516,44.86781,39.124866,32.046555,31.674606,29.63149,27.270693,27.948616,24.861298,26.725,31.166996,33.481007,30.09016,26.641563,24.96568,25.222742,23.25325,25.697783,26.337343,35.858185,37.936947,36.473354,29.031828],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,37.522514,41.12125,35.242783,28.246542,28.40117,24.701172,30.886631,32.289368,37.044937,33.797733,36.46494,33.232224,35.598793,29.27347,25.252514,25.94003,23.095652,18.752382,19.77773,17.936243,13.972011,9.699529,11.788701,11.730768,12.520896,12.598153,14.164276,17.470871,18.78217,16.874104,13.61729,13.079811,14.309374,13.057155,15.1052265,16.62815,22.804476,24.368977,22.985502,18.863808],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,28.826172,30.975784,27.860056,25.567999,22.182344,19.423954,23.63143,23.800426,22.476284,20.07529,19.29635,17.417265,15.991417,14.244045,12.776475,12.39297,10.522447,8.819395,10.964212,9.563368,8.393182,12.48325,8.957325,7.9999595,8.127263,5.6057224,4.9794464,5.4232736,6.1482916,5.4545336,5.65739,5.4544964,4.2114916,3.268318,3.981421,3.861755,5.117791,7.198837,7.376763,4.245805],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,62.991077,76.30337,59.29788,57.17156,63.56325,67.112656,70.103516,61.24598,61.313145,57.072327,50.460377,52.306725,42.289715,42.769756,58.23053,56.55721,51.262756,34.97687,30.277231,29.94017,23.902252,23.009895,21.019596,18.276922,18.159641,18.2742,19.93185,22.023016,24.105362,23.989826,28.86415,20.50884,19.757784,22.368856,22.140427,20.492298,24.78703,18.741179,17.660656,13.450953],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,138.57753,167.24364,141.59416,125.82191,138.32231,134.64575,168.65993,153.40546,146.98839,129.06836,133.82484,124.01514,111.79459,112.019356,136.74365,129.93665,118.42912,78.25677,79.565605,82.57989,66.90367,55.983547,60.93244,55.152878,58.356136,58.49584,57.439022,66.8713,72.905464,68.714806,80.7568,61.114975,54.073414,56.960854,64.8419,66.960335,75.97221,62.111626,55.23723,34.74943],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,43.064846,55.11512,48.408234,38.009186,41.381546,39.40247,56.100784,53.274906,53.708652,46.680405,54.38243,48.512863,48.31381,50.013298,52.913956,50.35623,44.309887,30.552347,34.48329,36.42146,28.440842,19.931728,24.366484,22.342344,24.614767,25.92567,26.117447,32.92225,34.33477,30.55468,33.313427,27.12759,25.007467,24.05279,31.708424,34.861897,37.927402,32.916668,28.85917,18.455856],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,32.521606,35.825153,33.888054,30.641165,33.37751,28.130634,42.455627,38.884567,31.966585,25.31562,28.982029,23.195553,21.19107,19.236301,25.59917,23.023203,22.856482,12.727545,14.8050785,16.218256,14.560577,13.041923,15.546359,14.533608,15.58173,14.295968,11.389725,11.926036,14.465334,14.170297,18.579224,13.478545,9.308162,10.539205,10.993055,11.606137,13.257783,10.453781,8.7174015,2.8426232],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,373.32,299.728,297.72,245.31044,226.10175,158.96112,170.84024,181.0228,194.64508,223.82,259.2026,207.77023,121.982605,117.445274,133.63023,108.94435,97.35288,92.65046,87.64926,76.41609,66.89688,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,22.504457,16.117598,52.93386,43.122345,13.287443,10.494738,11.1345625,11.207947,7.0089154,8.402131,10.098804,9.989852,12.660851,9.2575035,8.807914,16.936996,15.32621,4.801671,7.6492157,3.7038996,4.472874,3.5123577,2.6963346,2.0710754,1.5465325,0.9274055,1.7908514,0.8525463,1.3481165,1.0902761,1.3596172,0.89890426,0.6113654,2.1861334,1.1320504,1.2335706,2.685062,2.997056,1.3357736,2.382384],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,26.884092,17.247005,54.958153,43.92567,14.156099,12.962689,12.8622875,14.995848,7.6941237,9.85418,10.976014,13.586291,16.91443,16.031185,14.01091,25.934755,23.137732,16.310558,11.866286,10.938438,12.718915,10.834289,17.636063,15.182203,10.04144,13.4987955,12.519478,11.61032,13.272397,11.925289,11.767635,14.189544,13.09886,14.3708935,12.376141,11.556623,10.006429,9.788884,8.353182,8.84313],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,3.5058584,0.8637247,1.541935,0.73674285,0.69544524,1.540612,1.1330737,1.881027,0.48973778,0.9434826,0.5711056,1.7676717,2.1571312,2.1311402,2.288695,4.0834594,4.1691666,4.8667884,2.081363,3.9739008,4.1001825,1.9802475,4.1593423,4.879423,3.6705995,3.8656123,4.7487664,4.032287,4.599086,4.8552,4.393282,4.5121403,4.63215,3.9794378,3.4432046,3.2925344,2.1575515,2.6403596,2.9886286,2.0082917],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.8737754,0.26568267,0.48235738,0.06658192,0.17321178,0.9273401,0.594651,1.9068747,0.19547065,0.50856686,0.30610406,1.8287674,2.0964491,4.642541,2.9143007,4.9142985,3.6423547,6.6421,2.1357074,3.2606382,4.1458583,5.341683,10.780386,8.231705,4.8243084,8.705777,5.97986,6.7254863,7.3251944,5.9798126,6.0147357,8.7785,7.855345,8.205321,7.800885,7.0305185,5.163815,4.1514683,4.02878,4.4524546],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,105.09818,62.14621,149.07567,137.59215,61.66901,52.334034,62.740204,54.72153,35.4613,32.13457,29.814482,31.812174,39.13504,31.796001,21.826023,41.205418,34.60017,15.779005,24.741789,14.19059,12.844472,10.003942,8.943808,6.5334353,4.7567463,4.6702533,6.891666,3.8257775,4.363197,4.612915,6.4840117,3.824277,2.8336923,5.83529,2.83952,4.412702,5.591478,5.05502,4.444055,6.0646944],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,129.8716,66.60414,155.59167,140.10751,64.17201,59.62011,69.44339,70.30407,37.98268,37.55338,32.613323,47.213894,53.345253,53.15516,37.635654,68.80897,57.229168,40.996696,36.77609,34.765766,35.700035,25.061195,39.911854,41.08246,31.082489,34.88435,32.285564,37.97211,36.916203,36.756336,54.535557,53.483788,47.931835,41.347214,35.05133,44.892803,41.815132,30.428984,30.58415,27.644466],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,19.825901,3.4621036,4.969246,2.2854185,2.0160155,4.561,4.2572193,7.7222686,1.8885157,3.572327,1.8774743,7.4157567,7.02475,6.616665,6.9958167,12.616607,11.991046,10.89186,6.0803547,11.451449,11.199264,4.314903,8.764581,12.73938,11.926881,10.471154,12.067252,13.0945015,12.527921,14.791742,21.983286,17.263048,18.022703,12.156595,10.178326,13.61436,11.477905,10.113391,11.122562,7.0303173],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,4.9475055,0.9958264,1.5467488,0.22994526,0.4869839,2.7250748,2.4459658,7.86027,0.632867,1.8464817,0.92136633,7.985961,7.185463,14.742493,8.813816,14.986944,10.637951,14.325832,5.953945,9.123726,11.656301,10.742352,22.203466,21.809645,14.398863,19.74294,13.326645,21.051832,20.025084,17.35168,26.068258,32.39646,27.07544,23.355328,22.033484,26.86574,24.74575,15.260573,15.017532,14.549455],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.25592786,0.039248776,-0.18367848,-0.67504823,-0.7263285,-0.7838065,-0.88362163,-0.453209,-0.03957695,0.12631203,0.7729274,1.3890203,1.0162588,0.73936284,0.47788143,0.43608713,0.23702313,0.33590126,0.6828589,0.7643122,1.0393858,1.640257,1.5398757,1.5939394,1.3276922,1.1308359,0.9507757,0.68709373,0.5437567,0.20891607,0.03889774,-0.021030072,-0.22852455,-0.3084713,-0.3132818,-0.563229,-0.604011,-0.8153549,-1.1052138,-1.0323042,-1.0047739,-1.6240925,-2.1135058,-2.164812,-2.3306737,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,14.436744,11.87037,10.669786,9.965723,13.0260935,18.927263,24.064386,26.672953,26.98719,25.195065,22.611662,17.295092,14.743089,13.477854,12.840881,12.160255,11.218865,7.2100406,8.514701,8.921064,7.805675,8.455207,6.9474936,7.344975,6.7743654,6.5876966,7.2834578,7.2484493,7.909056,6.9924526,7.209751,7.5476356,8.136132,7.7380276,5.8517003,4.571046,3.9890068,3.6816375,2.921676,2.6185975],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,16.272621,13.879785,13.238815,11.777535,15.572804,23.539627,28.109522,35.30779,37.44385,34.398323,31.464514,25.170752,19.730164,16.7217,15.672952,14.489373,12.927022,8.855977,10.512225,11.209385,10.276627,10.836751,9.346207,10.383587,9.956588,8.657131,9.46408,11.062407,10.346325,9.849216,10.454176,11.143527,12.135735,10.680044,9.220378,7.6854005,7.161129,6.7182407,6.205602,5.138479],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.4558114,0.4687869,0.6029778,0.80707824,0.9800072,1.1546264,0.69139904,1.4124873,4.23364,4.7020197,2.4766977,2.1022856,1.5752175,1.1469483,1.0465138,0.70757645,0.5966018,0.5550611,0.7185475,0.9542668,1.1217954,1.0691665,0.85130537,1.0293134,1.677184,0.90678024,0.97191495,1.6244382,0.97404146,1.281814,1.4838951,1.2780709,2.004213,1.4867301,1.690508,1.5173084,1.4715756,1.3774297,1.4836069,1.4256438],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,1.3800653,1.5406277,1.9660509,1.004735,1.5667034,3.4577384,3.3537357,7.2223496,6.22302,4.501239,6.376153,5.773375,3.4118578,2.0968986,1.7855566,1.6215415,1.1115546,1.0908751,1.2789773,1.3340539,1.3491565,1.3123775,1.5474074,2.0092986,1.5050381,1.1626542,1.2087069,2.1895185,1.463227,1.57495,1.76053,2.317821,1.9953893,1.4552866,1.6781697,1.597046,1.7005466,1.6591736,1.8003196,1.0942378],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,30.091618,24.80771,24.374176,23.974567,30.039082,40.10609,47.39215,61.669376,66.13288,71.26761,82.849754,70.889206,62.925453,60.44181,56.027954,49.27094,45.701912,29.231602,35.584015,38.070316,31.422422,30.512041,26.189453,26.44617,23.930613,24.468964,23.106035,27.69177,27.80006,30.314465,34.999786,33.966457,34.55974,38.299873,33.292484,30.112146,29.2,28.825535,24.520582,25.656313],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,34.657005,28.950567,29.62797,30.29114,36.601,51.892487,57.069614,77.58373,87.49876,91.09177,107.55157,94.105934,83.728226,74.32576,67.00076,56.70296,52.17896,34.15931,40.623447,44.972057,38.41874,36.802216,32.46082,33.75686,32.374554,32.029964,30.75669,36.65593,34.522655,38.92176,48.011074,48.6262,47.73445,49.53958,46.62513,42.80276,42.292427,40.968334,37.38191,32.171738],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,1.9638213,2.0593998,2.8312545,3.6796944,3.3819628,6.590405,3.2220366,3.633579,7.63571,10.405653,8.082729,5.762256,4.7623115,3.32396,3.159914,1.7449911,1.7859362,1.278496,1.6204201,2.4480917,2.62824,2.253508,1.912063,1.9785569,2.3799667,2.1345465,2.4085286,3.1185644,2.0609734,2.4679205,3.5859473,2.9780383,4.2892504,3.3154926,3.4472287,3.1388652,3.515805,3.5282395,3.68153,3.2675416],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,2.6015668,2.0834575,2.4225388,2.636878,3.1799595,5.195993,6.455428,12.280782,13.730163,9.418507,16.619085,17.454475,16.040457,10.55999,7.8128943,5.6870327,4.691112,3.6492126,3.4190106,4.45365,4.368078,4.036667,4.3593016,5.3321304,6.0639734,5.426455,5.2421246,5.845597,4.6616206,6.139377,9.42534,11.681707,8.885461,7.9242125,9.885419,9.551752,9.576624,8.614559,9.179798,3.2478848],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,15.3025465,5.332875,4.4791694,4.9400535,5.7288547,11.611355,4.5177617,33.191586,99.23387,53.999714,135.17839,5.6258693,3.100121,3.6501877,4.0906253,2.9008076,6.3323703,5.723393,1.3077135,4.986116,2.3061697,2.7732973,1.7410744,4.7422023,3.875809,5.42949,2.9679532,5.360272,1.825758,7.6359925,0.004943658,0.079377435,0.003771167,7.37684,0.13620523,0.05775534,0.004993644,2.5345337,0.026563726,5.084313],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,110.36872,69.49753,72.81298,95.76613,84.56114,151.12535,155.2438,157.84488,208.38121,181.64572,229.96098,210.76308,140.0975,253.42876,177.05855,213.2521,233.44861,232.87653,224.59068,206.76886,173.94589,130.45891,141.94408,217.23984,260.12042,266.95288,217.68042,248.50108,121.57153,171.05017,231.26198,160.14299,233.58046,264.13818,154.15912,262.3267,354.23126,318.30707,317.0062,287.77167],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,17.740408,14.811504,23.626654,56.28018,54.360535,91.27234,99.78467,70.52439,87.82187,94.33209,58.77848,115.70929,95.900925,125.48456,128.00006,92.71757,132.61838,125.435104,80.71279,112.38842,127.89842,94.134766,99.34051,124.44125,158.22841,163.31642,116.08695,112.85165,51.82954,82.45843,123.27757,111.06656,190.84816,225.60675,127.39936,192.62572,241.95013,202.74881,198.9301,222.543],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,6.9607654,49.353153,44.707157,34.545895,24.471754,48.241665,50.94137,54.128906,21.32548,33.313915,36.004112,89.427925,41.096466,124.29401,44.967865,117.633736,94.49787,101.71803,142.57018,89.39432,43.741302,33.55085,40.8625,88.05637,98.0162,98.206985,98.62551,130.28915,67.91624,80.95574,107.979454,48.99705,42.72854,31.154583,26.62355,69.64323,112.276115,113.023735,118.04954,60.144344],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.33822754,0.4958896,0.42732158,0.8625486,0.9661433,0.9068544,1.4164022,2.3704097,2.2111778,1.5655833,1.6888777,1.1159523,0.6211701,0.6245101,0.783474,0.39997157,0.94538933,0.62869066,0.18148503,1.1523421,0.25264618,0.38778576,0.24147344,0.88845235,0.5820641,0.8217656,0.49241954,1.4627947,0.24575981,1.6918553,0.000274168,0.028314974,0.000179688,2.0793917,0.026091803,0.010949333,0.000503111,0.48615178,0.005854139,0.65189964],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,1.0159236,1.4152155,1.8878208,1.7404385,2.033759,1.3334669,1.617666,2.5856104,2.273135,2.96442,7.4511046,11.077713,5.2765317,8.9042015,13.498493,8.616104,35.857433,21.959423,30.122833,32.17736,18.930056,18.626152,19.609222,28.195219,39.489895,44.566967,43.795063,76.73247,19.864542,35.21152,66.46474,55.352196,72.6782,70.70356,27.82251,51.00622,64.203674,56.096615,66.22568,40.911964],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.07473407,0.000184902,0.06273167,0.14854008,0.42360115,0.14144571,0.07942622,0.0916994,0.03126566,0.44477636,2.6261837,9.486483,4.141398,7.5837026,12.015124,6.928295,19.918373,11.118093,10.343353,15.650479,13.791102,13.427039,13.736986,17.976894,23.695778,27.446947,23.240404,35.860004,8.80367,18.635515,36.673515,37.22078,59.25247,60.243294,22.989412,40.517204,46.589634,39.47785,43.580166,33.21786],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.602962,0.919141,1.3977677,0.7293498,0.64401454,0.28516668,0.121837504,0.12350129,0.030691585,0.9540605,3.1360023,0.47524613,0.51395214,0.69596857,0.69987744,1.2878268,14.9936695,10.212641,19.597996,15.374539,4.886308,4.8113265,5.630764,9.329872,15.212053,16.298252,20.062237,39.40967,10.815111,14.88415,29.790945,18.103102,13.425554,8.380873,4.8070045,10.478069,17.613535,16.132612,22.639662,7.042201],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,6.023372,5.035752,4.567024,4.0835013,4.2486725,3.6759436,3.8606548,4.7863264,4.7996087,5.500244,6.593854,4.0970063,4.683411,4.223872,4.3891716,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,7.079835,6.1599326,6.0572968,5.127937,5.5848556,5.084461,5.092545,6.6156597,6.5413294,7.65031,8.823516,6.0221252,6.2215023,5.7334175,6.9023776,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.56740767,0.54923487,0.93410784,0.5939178,0.7993042,0.7977597,0.65089226,0.9653143,0.8219774,0.9966823,1.0470124,0.9173176,0.8354518,0.82595795,1.2558807,0.69325095],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.489109,0.57499284,0.5562223,0.45054296,0.53695816,0.61083364,0.58107334,0.8640478,0.91980803,1.1535164,1.1826823,1.007841,0.7026506,0.6835982,1.2573867,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,3.1598725,4.1840234,1.2606789,1.5568476,2.4226718,3.9760926,4.8519998,7.70475,3.0503047,2.3266153,1.9439228,0.85777986,1.3256778,1.6200755,3.4665015,2.1482253,2.757824,0.96364844,2.0112102,2.7291052,1.2608513,2.635107,3.426635,3.291514,2.2584324,0.53905785,0.7926659,0.000616886,0.000609329,0.11841645,0.51657206,1.3117596,1.9748659,1.1706024,0.6170843,0.3214557,0.25958434,0.48390883,1.3535949,1.0015707],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,27.81394,30.699154,14.506526,15.814155,35.34462,33.117786,37.982967,35.082554,33.259384,23.121729,25.115458,13.5055485,18.908506,15.729202,16.222933,10.384939,14.128855,8.801877,6.160116,10.116729,17.219591,20.743223,20.94935,20.42341,13.184075,14.126116,11.489019,9.003268,15.797954,14.839909,19.36108,11.371147,26.138744,17.007732,12.004721,8.770677,10.356214,9.116909,5.3795266,3.1722105],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,3.1956115,3.9171262,1.2126043,1.6324186,2.985408,6.2880225,6.8651867,8.078773,5.32879,2.4623857,2.4269834,1.0755663,0.85163546,0.5871862,1.3187292,1.290391,1.021143,0.89861596,0.7084035,1.4283065,2.3950555,2.7811089,3.057193,2.6956904,2.137435,0.82403123,0.6252524,0.8483532,1.0490253,1.2592565,1.108179,0.88606226,1.60452,2.922447,1.4383694,0.84666866,0.54969406,0.4526994,0.45952448,0.705069],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,21.458456,22.598005,12.033243,12.624888,29.93654,22.853672,26.265781,19.299034,24.880291,18.332727,20.74455,11.572203,16.731194,13.52194,11.437703,6.9463224,10.349888,6.9396124,3.4405026,5.959317,13.5636835,15.327007,14.465522,14.436206,8.788209,12.763027,10.071101,8.154298,14.74832,13.462236,17.73633,9.173326,22.559359,12.914683,9.949267,7.6025524,9.546935,8.180301,3.5664074,1.4655708],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,95,165,91,107,187,160,240,206,236,191,150,85,140,190,398,165,229,122,88,186,100,183,95,223,144,98,48,0,1,15,50,124,116,75,38,38,63,87,89,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,646,693,520,294,620,590,644,579,774,673,644,425,343,196,486,235,274,151,160,322,413,399,423,489,274,172,209,47,243,111,143,224,236,356,189,84,145,163,236,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,229,214,172,140,238,234,240,265,305,227,274,198,65,6,19,18,14,6,21,59,122,84,154,128,42,27,68,14,91,23,24,35,45,118,38,13,26,31,73,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,323,313,258,47,194,196,164,108,233,255,220,142,139,null,69,52,31,23,50,77,191,132,173,138,88,47,93,34,151,73,69,65,75,163,114,33,56,45,74,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,45.007183,54.886497,12.457417,20.342827,28.731907,35.591713,59.476517,93.52464,29.276028,24.42959,17.347893,8.38383,10.349177,11.36075,20.086855,10.011063,11.884427,4.8817,11.695298,16.057276,7.050685,11.338574,17.72939,25.165339,17.376001,6.846949,9.997043,0,0.000164086,1.4460979,5.96822,14.667313,25.710108,13.385932,8.964183,5.6848583,5.09717,7.995426,17.021715,13.889847],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,212.83568,232.55402,71.50252,113.96165,174.81956,200.42448,310.3443,345.7938,179.9248,151.1458,91.12244,57.341614,61.185898,59.641182,45.71389,30.51514,38.740055,24.91316,22.90256,37.26104,30.832785,38.568474,45.14062,68.14094,51.327995,45.864853,44.006657,33.726963,31.818312,60.830032,63.726048,55.268604,87.11677,78.78629,53.321507,44.70996,45.46958,48.13255,35.9789,24.26892],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,32.87747,33.98144,8.032096,12.963517,22.157314,35.750027,62.620632,86.96242,30.308264,19.383255,11.168434,6.8864303,4.387001,2.5748968,6.1335926,5.4933844,4.4941206,4.13444,3.206129,6.157209,8.613399,10.098983,12.59045,18.09973,14.117983,6.434922,5.9226184,5.0924425,4.332571,9.164136,7.8919287,7.9099226,13.921187,22.184443,13.1043825,9.053301,5.9024625,5.9610248,4.2830377,5.0866795],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,134.95103,143.68608,51.013004,80.655304,123.930336,129.08275,188.24713,165.30673,120.340515,107.332954,62.606113,42.071354,46.449722,45.705536,19.493444,15.0106945,22.36151,15.897021,8.001132,15.046557,15.168702,17.130919,14.82078,24.875874,19.834011,32.58298,28.086994,28.634521,27.485577,50.2198,49.8659,32.69137,47.485474,43.21592,31.25294,29.9718,34.46995,34.176098,14.674147,5.292395],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,6.746195,6.5962377,6.4984164,6.378616,5.6986904,5.5376654,5.8731227,6.5319953,6.394627,7.1439657,7.243603,7.148452,6.803699,7.378424,8.260049,8.648659,8.963496,9.57374,10.589501,11.811217,11.749845,11.509354,11.649361,11.20382,11.473495,11.5652895,11.607409,11.671935,11.444782,11.812031,11.914616,10.873019,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,27.254648,17.686762,28.255735,31.402384,26.661882,27.015814,26.876503,27.571693,27.693674,29.279282,28.101246,26.466824,22.355791,22.434856,23.459753,22.316952,22.148846,22.381767,21.959354,21.879467,22.61272,22.964277,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,2.8472369,2.76034,1.3175266,1.8192157,2.682319,3.5599504,3.8931978,5.362675,6.821017,4.9379964,5.699125,9.112365,4.179696,5.749521,3.4693117,5.308572,7.6544013,1.9969168,3.552934,2.6250985,2.543568,2.6626632,1.5879554,1.5979836,1.3366524,0.5452471,0.91586196,1.3692099,1.6356335,2.0532463,3.7300372,3.2701342,4.3220925,4.500171,4.320728,2.1866505,2.3638601,3.2125657,1.9494472,1.0554047],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,19.231451,13.480703,6.922551,5.660932,13.653236,26.957117,31.567863,32.918594,36.4637,25.699831,20.311941,36.674995,23.752848,16.119503,12.940425,15.56583,19.382837,6.277086,14.764265,16.757711,19.05703,26.703115,14.992463,10.171977,11.85736,9.251531,12.101362,16.318401,15.249965,21.002453,30.308132,30.139776,32.43886,42.382652,47.739513,25.091465,16.249743,23.725748,18.818829,27.271152],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,11.783916,8.405401,3.0014107,2.249487,6.7902975,15.427664,20.26842,19.031507,22.333992,14.518339,9.918616,21.856256,12.285051,7.503157,5.54233,7.1690755,8.940343,2.8560498,9.315751,11.621369,12.990026,18.93381,9.359589,5.5743437,7.1880054,5.5496426,9.145594,11.590722,10.078568,14.340627,21.95036,22.31214,21.632498,23.617134,24.300827,16.141394,10.481462,16.288473,12.194981,19.58435],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,4.600299,2.3149621,2.6036139,1.5922294,4.1806197,7.9695034,7.4062457,8.524412,7.308691,6.2434955,4.694199,5.706373,7.2881,2.8668244,3.9287832,3.0881834,2.7880945,1.4241192,1.8955793,2.5112443,3.5234354,5.1066422,4.044919,2.9996495,3.332702,3.1566405,2.0399063,3.3584688,3.5357633,4.6085806,4.6277356,4.5575023,6.484273,14.265347,19.117958,6.7634215,3.4044204,4.2247086,4.6744013,6.6313972],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,15.39735,15.760716,10.416232,15.394594,11.229679,13.846534,15.859116,13.563604,13.525407,13.057907,15.984209,15.461029,9.743163,17.886936,14.023998,18.524689,20.192556,13.649089,13.289596,11.233959,8.761178,8.592191,4.9889474,5.256506,5.898958,5.48977,5.2076864,6.9531794,6.7336226,5.885903,10.002117,9.525943,10.525644,12.963706,15.535087,11.828029,10.404183,12.915031,9.909037,7.7985363],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,69.73147,49.059654,34.42843,25.619019,32.941765,79.57311,113.33582,70.35472,65.272804,59.429092,51.241215,56.286392,36.739002,42.4628,40.65933,42.291046,39.068302,24.003471,33.205826,33.268124,26.30502,32.641293,17.810127,17.12498,21.248266,16.183918,22.172411,30.704557,20.333279,26.046638,47.53549,45.756554,47.599327,67.34556,96.72549,52.581047,31.66678,51.240955,42.01316,39.38418],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,38.917248,25.621664,12.499361,5.739861,13.297918,43.197968,70.92217,38.950497,38.77968,32.2918,23.641739,32.47428,16.561445,17.472158,15.052428,15.8469095,13.432446,6.14412,15.372222,16.531857,12.097002,17.531754,7.552135,6.84997,9.474615,6.0079293,12.092089,17.177946,8.544909,13.4682,29.16897,28.27976,27.368176,32.6498,44.853115,27.48861,13.660715,28.121584,20.521952,22.78244],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,15.416867,7.6772733,11.512835,4.484563,8.414169,22.528608,26.554537,17.840618,12.967714,14.079385,11.615266,8.35108,10.434392,7.103706,11.582902,7.9194465,5.4433002,4.2102623,4.544007,5.5023074,5.4468393,6.5173473,5.2690444,5.0185056,5.8746924,4.6862197,4.872635,6.5734324,5.054746,6.692535,8.364402,7.950851,9.705504,21.732054,36.337288,13.26441,7.601881,10.20434,11.5821705,8.803201],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,23.509565,16.308044,1.8236015,0.5640231,10.276102,21.277393,19.984056,37.315388,40.93157,28.44679,37.388237,13.112357,42.804226,55.38271,70.226715,80.544945,70.327896,2.8944795,91.91201,118.803474,86.383255,72.87683,45.060493,41.025623,55.739456,49.158306,49.475784,38.10032,93.10599,130.84468,121.51279,97.71632,104.411606,104.09228,36.80619,37.09157,62.411724,33.17818,12.350337,20.44386],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,23.509666,16.359364,1.9585043,0.9934503,11.070693,21.289354,19.98407,37.31539,40.975124,28.44679,37.38828,13.11841,42.863483,55.4884,70.33848,80.648964,70.45093,2.9032934,91.91313,118.80914,86.385124,72.87884,45.0727,41.04535,55.753937,49.18548,49.47642,38.100323,93.10616,130.85225,121.51281,97.71636,104.41167,104.09275,36.80619,38.35179,62.41176,36.374348,14.730887,25.114628],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.000102058,0.051318534,0.13490291,0.42942724,0.7945909,0.011961684,1.32e-05,2.27e-06,0.043556206,0,4.31e-05,0.006052737,0.05926003,0.105688386,0.11176788,0.104019165,0.12303512,0.008813753,0.001120827,0.005671719,0.00186744,0.002006693,0.012207078,0.019726733,0.01448139,0.027171997,0.000636844,4.54e-06,0.000177355,0.007576807,2.45e-05,5.03e-05,6.17e-05,0.000470829,0,1.2602166,3.63e-05,3.1961656,2.3805506,4.670769],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,15.056744,9.781177,1.9994498,0.7664008,9.693444,10.629326,9.17501,16.854206,15.990753,9.577497,11.63801,4.566388,18.56947,25.305677,38.302277,36.521816,33.484653,2.5920634,51.57442,41.421654,24.989113,26.585295,36.0313,28.13491,42.564972,35.05731,37.08176,32.334087,69.48683,84.71667,77.92064,72.73464,82.59559,80.40035,26.991486,42.599037,72.98384,37.2257,13.822222,26.106606],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,15.056876,9.806136,2.2102265,1.2726501,10.472751,10.635641,9.175018,16.854208,16.007122,9.577497,11.638064,4.569389,18.625982,25.368618,38.37347,36.58346,33.564842,2.5978532,51.57442,41.42174,24.989498,26.58615,36.038548,28.142628,42.572025,35.07765,37.082134,32.334087,69.48683,84.71667,77.92064,72.73464,82.59559,80.4008,26.991486,43.841286,72.98384,40.424435,16.779797,32.106438],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.000133433,0.02496032,0.2107766,0.5062493,0.7793065,0.006314875,8.47e-06,2.23e-06,0.01636906,0,5.46e-05,0.003000832,0.05651392,0.062940136,0.071191296,0.06164531,0.08018919,0.005789821,7.85e-07,8.93e-05,0.000383789,0.000855048,0.007247182,0.007716007,0.007053755,0.020340955,0.000376169,1.83e-07,0,0,1.41e-06,0,0,0.000450839,0,1.2422487,0,3.1987348,2.957574,5.999833],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,243.54547,226.27373,183.20265,166.88965,148.01283,175.22263,180.71939,230.78072,297.29926,220.34436,302.27695,137.83694,144.87411,143.52219,191.35548,208.18526,218.66704,116.9548,210.7778,250.03687,202.14835,175.41022,119.83712,135.76424,145.08282,154.89069,178.54811,145.96606,168.90723,205.12236,191.54189,166.67963,166.03864,174.07414,94.94966,72.43044,103.59878,87.26568,51.75612,56.903576],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,470.10062,416.89807,350.56604,346.97025,337.43457,427.4134,461.0869,494.8418,556.2291,465.76318,511.3372,458.1107,395.24866,489.39737,452.66953,508.26236,527.31946,411.5011,502.2293,545.43427,477.73135,434.36862,390.78275,480.90408,541.5163,541.21936,516.4602,503.30103,410.77988,498.0582,548.3789,499.8923,569.5555,555.1604,357.9592,429.41623,548.4804,503.55133,456.3046,420.48102],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,83.75518,74.498146,68.72131,94.4917,97.87142,144.5798,162.72536,137.52234,162.7263,155.38397,114.879616,180.64185,154.30179,171.57005,170.97182,140.54285,175.97183,158.4216,119.0566,165.40813,179.30276,157.55772,162.14796,197.71732,246.9431,237.16884,197.10168,180.17342,117.99305,153.7609,187.34998,205.29213,271.2293,288.26373,181.24103,245.73767,290.9624,263.18237,250.45769,276.82135],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,72.434975,116.12622,98.64205,85.588905,91.550316,107.61096,117.642166,126.53875,96.203545,90.03486,94.18063,139.6319,96.07277,174.30511,90.34222,159.53427,132.6806,136.1247,172.3949,129.98924,96.28025,101.40068,108.797676,147.42253,149.49036,149.15985,140.81038,177.16154,123.87959,139.17496,169.48705,127.920555,132.28754,92.82254,81.76851,111.24813,153.9192,153.10327,154.09079,86.75611],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,361.73218,353.93332,346.22916,320.9361,271.73944,282.94305,342.73645,374.8401,291.321,266.4745,285.06732,246.80489,223.86409,223.52966,277.20386,286.7257,254.5092,152.40706,210.75441,200.51323,148.25436,137.71295,157.57072,172.44366,174.99821,161.4941,157.39717,138.24156,164.09813,201.86139,240.65817,273.75418,263.59125,252.96075,184.50212,162.85358,229.5135,190.87851,141.35948,144.76035],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,745.8688,721.13403,578.6155,574.1629,586.1377,645.53094,844.0349,884.9662,693.7063,600.5629,571.39594,508.84323,478.95215,500.8642,573.317,555.9465,527.6679,367.63782,438.4124,506.79126,387.0088,387.4853,432.76245,489.54605,517.85223,480.68527,467.4202,512.49585,453.80682,584.7683,749.9219,711.2088,746.77356,727.9395,602.1406,619.4114,695.57367,650.6496,546.5579,431.23926],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,162.50978,146.05115,94.752014,85.664566,104.41137,153.69577,213.80852,215.3039,160.77565,139.26753,127.64022,128.87564,106.50497,110.3072,139.84328,130.87918,117.96034,84.34836,96.8866,139.13022,102.42149,106.135345,109.68997,141.38007,161.31662,139.93692,130.30962,150.49887,109.421555,149.16336,194.01657,179.71385,210.26495,214.74638,165.28351,188.05083,186.8704,201.88347,184.57875,169.77666],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,221.62683,221.14958,137.63432,167.56224,209.98692,208.89212,287.48996,294.8222,241.60962,194.8209,158.68837,133.16266,148.58307,167.02731,156.26985,138.34158,155.19836,130.8824,130.77141,167.14781,136.33293,143.637,165.50175,175.7223,181.53741,179.25426,179.71341,223.75543,180.28712,233.74358,315.24713,257.74075,272.91736,260.23242,252.35497,268.50696,279.1898,257.88757,220.6197,116.70225]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>time<\/th>\n      <th>consumption_fish<\/th>\n      <th>consumption_per_cap<\/th>\n      <th>cps_landings_ca<\/th>\n      <th>cps_landings_coastwide<\/th>\n      <th>cps_landings_or<\/th>\n      <th>cps_landings_wa<\/th>\n      <th>cps_revenue_ca<\/th>\n      <th>cps_revenue_coastwide<\/th>\n      <th>cps_revenue_or<\/th>\n      <th>cps_revenue_wa<\/th>\n      <th>crab_landings_ca<\/th>\n      <th>crab_landings_coastwide<\/th>\n      <th>crab_landings_or<\/th>\n      <th>crab_landings_wa<\/th>\n      <th>crab_revenue_ca<\/th>\n      <th>crab_revenue_coastwide<\/th>\n      <th>crab_revenue_or<\/th>\n      <th>crab_revenue_wa<\/th>\n      <th>fertilizer_applications<\/th>\n      <th>finfish_production<\/th>\n      <th>groundfish_landings_ca<\/th>\n      <th>groundfish_landings_coastwide<\/th>\n      <th>groundfish_landings_or<\/th>\n      <th>groundfish_landings_wa<\/th>\n      <th>groundfish_revenue_ca<\/th>\n      <th>groundfish_revenue_coastwide<\/th>\n      <th>groundfish_revenue_or<\/th>\n      <th>groundfish_revenue_wa<\/th>\n      <th>habitat_modification<\/th>\n      <th>hms_landings_ca<\/th>\n      <th>hms_landings_coastwide<\/th>\n      <th>hms_landings_or<\/th>\n      <th>hms_landings_wa<\/th>\n      <th>hms_revenue_ca<\/th>\n      <th>hms_revenue_coastwide<\/th>\n      <th>hms_revenue_or<\/th>\n      <th>hms_revenue_wa<\/th>\n      <th>oil_gas_production<\/th>\n      <th>other_species_landings_ca<\/th>\n      <th>other_species_landings_coastwide<\/th>\n      <th>other_species_landings_or<\/th>\n      <th>other_species_landings_wa<\/th>\n      <th>other_species_revenue_ca<\/th>\n      <th>other_species_revenue_coastwide<\/th>\n      <th>other_species_revenue_or<\/th>\n      <th>other_species_revenue_wa<\/th>\n      <th>pacific_hake_landings_ca<\/th>\n      <th>pacific_hake_landings_coastwide<\/th>\n      <th>pacific_hake_landings_or<\/th>\n      <th>pacific_hake_landings_wa<\/th>\n      <th>pacific_hake_revenue_ca<\/th>\n      <th>pacific_hake_revenue_coastwide<\/th>\n      <th>pacific_hake_revenue_or<\/th>\n      <th>pacific_hake_revenue_wa<\/th>\n      <th>recreational_landings_ca<\/th>\n      <th>recreational_landings_coastwide<\/th>\n      <th>recreational_landings_or<\/th>\n      <th>recreational_landings_wa<\/th>\n      <th>salmon_com_landings_ca<\/th>\n      <th>salmon_com_landings_coastwide<\/th>\n      <th>salmon_com_landings_or<\/th>\n      <th>salmon_com_landings_wa<\/th>\n      <th>salmon_rec_landings_ca<\/th>\n      <th>salmon_rec_landings_coastwide<\/th>\n      <th>salmon_rec_landings_or<\/th>\n      <th>salmon_rec_landings_wa<\/th>\n      <th>salmon_revenue_ca<\/th>\n      <th>salmon_revenue_coastwide<\/th>\n      <th>salmon_revenue_or<\/th>\n      <th>salmon_revenue_wa<\/th>\n      <th>shellfish_production<\/th>\n      <th>shipping_distance_traveled<\/th>\n      <th>shrimp_landings_ca<\/th>\n      <th>shrimp_landings_coastwide<\/th>\n      <th>shrimp_landings_or<\/th>\n      <th>shrimp_landings_wa<\/th>\n      <th>shrimp_revenue_ca<\/th>\n      <th>shrimp_revenue_coastwide<\/th>\n      <th>shrimp_revenue_or<\/th>\n      <th>shrimp_revenue_wa<\/th>\n      <th>squid_landings_ca<\/th>\n      <th>squid_landings_coastwide<\/th>\n      <th>squid_landings_or<\/th>\n      <th>squid_revenue_ca<\/th>\n      <th>squid_revenue_coastwide<\/th>\n      <th>squid_revenue_or<\/th>\n      <th>total_fisheries_landings_ca<\/th>\n      <th>total_fisheries_landings_coastwide<\/th>\n      <th>total_fisheries_landings_or<\/th>\n      <th>total_fisheries_landings_wa<\/th>\n      <th>total_fisheries_revenue_ca<\/th>\n      <th>total_fisheries_revenue_coastwide<\/th>\n      <th>total_fisheries_revenue_or<\/th>\n      <th>total_fisheries_revenue_wa<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
<p>Then <strong>Knit</strong> again to see the updated table display, which defaults to paging through results, showing alternating gray backgrounds and providing search and sort abilities. Check out the function help (<code>?DT::datatable</code> in R Console; or <code>F1</code> with cursor over function in editor) and R package website <a href="https://rstudio.github.io/DT">DT</a> for more.</p>
<p>Also note how we can call a function explicitly with the R package like <code>DT::datatable(d)</code> or load the library and use the function without the explicit R package referencing:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DT)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(d)</span></code></pre></div>
</div>
</div>
<div id="wrangle-data" class="section level2" number="1.2">
<h2><span class="header-section-number">1.2</span> Wrangle data</h2>
<p>Now that we’ve learned how to read a basic data table, let’s “wrangle” with <code>dplyr</code>, <code>tidyr</code> and <code>purrr</code>:</p>
<div class="figure">
<img src="https://d33wubrfki0l68.cloudfront.net/e3f9e555d0035731c04642ceb58a03fb84b98a7d/4f070/diagrams/data-science-wrangle.png" alt="" />
<p class="caption">Data “wrangling” loosely encompasses the <strong>Import</strong>, <strong>Tidy</strong> and <strong>Transform</strong> steps. Source: <a href="https://r4ds.had.co.nz/wrangle-intro.html">9 Introduction | R for Data Science</a></p>
</div>
<p>Let’s create a new section and subsection in your Rmd:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">## Wrangle data</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="fu">### Manipulate with `dplyr`</span></span></code></pre></div>
<div id="install-r-packages" class="section level3" number="1.2.1">
<h3><span class="header-section-number">1.2.1</span> Install R packages</h3>
<p>Be sure you have the R packages <code>dplyr</code>, <code>tidyr</code> and <code>purrr</code> installed via the <strong>Packages</strong> pane. <strong>Search</strong> (magnifying glass) for them and if missing, use the <strong>Install</strong> button.</p>
</div>
<div id="manipulate-with-dplyr" class="section level3" number="1.2.2">
<h3><span class="header-section-number">1.2.2</span> Manipulate with <code>dplyr</code></h3>
<p>There’s a few things we’ll want to do next to make this data.frame more usable:</p>
<ol style="list-style-type: decimal">
<li><p><strong>Convert</strong> the <code>data.frame</code> to a <code>tibble</code>, which provides a more useful summary in the default output of the R Console to include only the first 10 rows of data and the data types for each column.</p></li>
<li><p><strong>Transform</strong> the <code>time</code> column to an actual <code>as.Date()</code> column using dplyr’s <code>mutate()</code>.</p></li>
<li><p><strong>Column</strong> select with dplyr’s <code>select()</code> to those starting with “total_fisheries_revenue” using <code>starts_with()</code>.</p></li>
<li><p><strong>Row</strong> select with dplyr’s <code>filter()</code> to those starting within the last 40 years, i.e. <code>time &gt;= as.Date("1981-01-01")</code>.</p></li>
</ol>
<p>Create a new R Chunk (RStudio menu <strong>Code</strong> -&gt; <strong>Insert Chunk</strong>) and insert within the fenced code block the following:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DT)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code></pre></div>
<pre><code>## 
## Attaching package: &#39;dplyr&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:stats&#39;:
## 
##     filter, lag</code></pre>
<pre><code>## The following objects are masked from &#39;package:base&#39;:
## 
##     intersect, setdiff, setequal, union</code></pre>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> d <span class="sc">%&gt;%</span> </span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># tibble</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># mutate time</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">time =</span> <span class="fu">as.Date</span>(<span class="fu">substr</span>(time, <span class="dv">1</span>, <span class="dv">10</span>))) <span class="sc">%&gt;%</span> </span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># select columns</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>    time, </span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">starts_with</span>(<span class="st">&quot;total_fisheries_revenue&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>  <span class="co"># filter rows</span></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>    time <span class="sc">&gt;=</span> <span class="fu">as.Date</span>(<span class="st">&quot;1981-01-01&quot;</span>))</span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(d)</span></code></pre></div>
<div id="htmlwidget-e8ada2f39d13552300a3" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-e8ada2f39d13552300a3">{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40"],["1981-01-01","1982-01-01","1983-01-01","1984-01-01","1985-01-01","1986-01-01","1987-01-01","1988-01-01","1989-01-01","1990-01-01","1991-01-01","1992-01-01","1993-01-01","1994-01-01","1995-01-01","1996-01-01","1997-01-01","1998-01-01","1999-01-01","2000-01-01","2001-01-01","2002-01-01","2003-01-01","2004-01-01","2005-01-01","2006-01-01","2007-01-01","2008-01-01","2009-01-01","2010-01-01","2011-01-01","2012-01-01","2013-01-01","2014-01-01","2015-01-01","2016-01-01","2017-01-01","2018-01-01","2019-01-01","2020-01-01"],[361.73218,353.93332,346.22916,320.9361,271.73944,282.94305,342.73645,374.8401,291.321,266.4745,285.06732,246.80489,223.86409,223.52966,277.20386,286.7257,254.5092,152.40706,210.75441,200.51323,148.25436,137.71295,157.57072,172.44366,174.99821,161.4941,157.39717,138.24156,164.09813,201.86139,240.65817,273.75418,263.59125,252.96075,184.50212,162.85358,229.5135,190.87851,141.35948,144.76035],[745.8688,721.13403,578.6155,574.1629,586.1377,645.53094,844.0349,884.9662,693.7063,600.5629,571.39594,508.84323,478.95215,500.8642,573.317,555.9465,527.6679,367.63782,438.4124,506.79126,387.0088,387.4853,432.76245,489.54605,517.85223,480.68527,467.4202,512.49585,453.80682,584.7683,749.9219,711.2088,746.77356,727.9395,602.1406,619.4114,695.57367,650.6496,546.5579,431.23926],[162.50978,146.05115,94.752014,85.664566,104.41137,153.69577,213.80852,215.3039,160.77565,139.26753,127.64022,128.87564,106.50497,110.3072,139.84328,130.87918,117.96034,84.34836,96.8866,139.13022,102.42149,106.135345,109.68997,141.38007,161.31662,139.93692,130.30962,150.49887,109.421555,149.16336,194.01657,179.71385,210.26495,214.74638,165.28351,188.05083,186.8704,201.88347,184.57875,169.77666],[221.62683,221.14958,137.63432,167.56224,209.98692,208.89212,287.48996,294.8222,241.60962,194.8209,158.68837,133.16266,148.58307,167.02731,156.26985,138.34158,155.19836,130.8824,130.77141,167.14781,136.33293,143.637,165.50175,175.7223,181.53741,179.25426,179.71341,223.75543,180.28712,233.74358,315.24713,257.74075,272.91736,260.23242,252.35497,268.50696,279.1898,257.88757,220.6197,116.70225]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>time<\/th>\n      <th>total_fisheries_revenue_ca<\/th>\n      <th>total_fisheries_revenue_coastwide<\/th>\n      <th>total_fisheries_revenue_or<\/th>\n      <th>total_fisheries_revenue_wa<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[2,3,4,5]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
<p>Next, <strong>Run</strong> the the chunk with the green Play button. <strong>Knit</strong> your document to see the update output table.</p>
</div>
<div id="tidy-with-tidyr" class="section level3" number="1.2.3">
<h3><span class="header-section-number">1.2.3</span> Tidy with <code>tidyr</code></h3>
<p>Now, we’re ready to “tidy” up our data per the definition in the <a href="https://github.com/rstudio/cheatsheets/raw/master/data-import.pdf">Data Import Cheatsheet</a>:</p>
<p><img src="figs/manipulate/tidy_rule.png" width="300"/></p>
<p>We’ll see how this transformation of the data structure from <strong>wide</strong> to <strong>long</strong> is especially useful in the next section when we want to summarize fisheries revenue by region.</p>
<p>Add a new subsection in your Rmd:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">### Tidy with `tidyr`</span></span></code></pre></div>
<p>And a new R Chunk:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> d <span class="sc">%&gt;%</span> </span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="sc">-</span>time)</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(d)</span></code></pre></div>
<div id="htmlwidget-ea9a6d7e0ea52d1040b0" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-ea9a6d7e0ea52d1040b0">{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160"],["1981-01-01","1981-01-01","1981-01-01","1981-01-01","1982-01-01","1982-01-01","1982-01-01","1982-01-01","1983-01-01","1983-01-01","1983-01-01","1983-01-01","1984-01-01","1984-01-01","1984-01-01","1984-01-01","1985-01-01","1985-01-01","1985-01-01","1985-01-01","1986-01-01","1986-01-01","1986-01-01","1986-01-01","1987-01-01","1987-01-01","1987-01-01","1987-01-01","1988-01-01","1988-01-01","1988-01-01","1988-01-01","1989-01-01","1989-01-01","1989-01-01","1989-01-01","1990-01-01","1990-01-01","1990-01-01","1990-01-01","1991-01-01","1991-01-01","1991-01-01","1991-01-01","1992-01-01","1992-01-01","1992-01-01","1992-01-01","1993-01-01","1993-01-01","1993-01-01","1993-01-01","1994-01-01","1994-01-01","1994-01-01","1994-01-01","1995-01-01","1995-01-01","1995-01-01","1995-01-01","1996-01-01","1996-01-01","1996-01-01","1996-01-01","1997-01-01","1997-01-01","1997-01-01","1997-01-01","1998-01-01","1998-01-01","1998-01-01","1998-01-01","1999-01-01","1999-01-01","1999-01-01","1999-01-01","2000-01-01","2000-01-01","2000-01-01","2000-01-01","2001-01-01","2001-01-01","2001-01-01","2001-01-01","2002-01-01","2002-01-01","2002-01-01","2002-01-01","2003-01-01","2003-01-01","2003-01-01","2003-01-01","2004-01-01","2004-01-01","2004-01-01","2004-01-01","2005-01-01","2005-01-01","2005-01-01","2005-01-01","2006-01-01","2006-01-01","2006-01-01","2006-01-01","2007-01-01","2007-01-01","2007-01-01","2007-01-01","2008-01-01","2008-01-01","2008-01-01","2008-01-01","2009-01-01","2009-01-01","2009-01-01","2009-01-01","2010-01-01","2010-01-01","2010-01-01","2010-01-01","2011-01-01","2011-01-01","2011-01-01","2011-01-01","2012-01-01","2012-01-01","2012-01-01","2012-01-01","2013-01-01","2013-01-01","2013-01-01","2013-01-01","2014-01-01","2014-01-01","2014-01-01","2014-01-01","2015-01-01","2015-01-01","2015-01-01","2015-01-01","2016-01-01","2016-01-01","2016-01-01","2016-01-01","2017-01-01","2017-01-01","2017-01-01","2017-01-01","2018-01-01","2018-01-01","2018-01-01","2018-01-01","2019-01-01","2019-01-01","2019-01-01","2019-01-01","2020-01-01","2020-01-01","2020-01-01","2020-01-01"],["total_fisheries_revenue_ca","total_fisheries_revenue_coastwide","total_fisheries_revenue_or","total_fisheries_revenue_wa","total_fisheries_revenue_ca","total_fisheries_revenue_coastwide","total_fisheries_revenue_or","total_fisheries_revenue_wa","total_fisheries_revenue_ca","total_fisheries_revenue_coastwide","total_fisheries_revenue_or","total_fisheries_revenue_wa","total_fisheries_revenue_ca","total_fisheries_revenue_coastwide","total_fisheries_revenue_or","total_fisheries_revenue_wa","total_fisheries_revenue_ca","total_fisheries_revenue_coastwide","total_fisheries_revenue_or","total_fisheries_revenue_wa","total_fisheries_revenue_ca","total_fisheries_revenue_coastwide","total_fisheries_revenue_or","total_fisheries_revenue_wa","total_fisheries_revenue_ca","total_fisheries_revenue_coastwide","total_fisheries_revenue_or","total_fisheries_revenue_wa","total_fisheries_revenue_ca","total_fisheries_revenue_coastwide","total_fisheries_revenue_or","total_fisheries_revenue_wa","total_fisheries_revenue_ca","total_fisheries_revenue_coastwide","total_fisheries_revenue_or","total_fisheries_revenue_wa","total_fisheries_revenue_ca","total_fisheries_revenue_coastwide","total_fisheries_revenue_or","total_fisheries_revenue_wa","total_fisheries_revenue_ca","total_fisheries_revenue_coastwide","total_fisheries_revenue_or","total_fisheries_revenue_wa","total_fisheries_revenue_ca","total_fisheries_revenue_coastwide","total_fisheries_revenue_or","total_fisheries_revenue_wa","total_fisheries_revenue_ca","total_fisheries_revenue_coastwide","total_fisheries_revenue_or","total_fisheries_revenue_wa","total_fisheries_revenue_ca","total_fisheries_revenue_coastwide","total_fisheries_revenue_or","total_fisheries_revenue_wa","total_fisheries_revenue_ca","total_fisheries_revenue_coastwide","total_fisheries_revenue_or","total_fisheries_revenue_wa","total_fisheries_revenue_ca","total_fisheries_revenue_coastwide","total_fisheries_revenue_or","total_fisheries_revenue_wa","total_fisheries_revenue_ca","total_fisheries_revenue_coastwide","total_fisheries_revenue_or","total_fisheries_revenue_wa","total_fisheries_revenue_ca","total_fisheries_revenue_coastwide","total_fisheries_revenue_or","total_fisheries_revenue_wa","total_fisheries_revenue_ca","total_fisheries_revenue_coastwide","total_fisheries_revenue_or","total_fisheries_revenue_wa","total_fisheries_revenue_ca","total_fisheries_revenue_coastwide","total_fisheries_revenue_or","total_fisheries_revenue_wa","total_fisheries_revenue_ca","total_fisheries_revenue_coastwide","total_fisheries_revenue_or","total_fisheries_revenue_wa","total_fisheries_revenue_ca","total_fisheries_revenue_coastwide","total_fisheries_revenue_or","total_fisheries_revenue_wa","total_fisheries_revenue_ca","total_fisheries_revenue_coastwide","total_fisheries_revenue_or","total_fisheries_revenue_wa","total_fisheries_revenue_ca","total_fisheries_revenue_coastwide","total_fisheries_revenue_or","total_fisheries_revenue_wa","total_fisheries_revenue_ca","total_fisheries_revenue_coastwide","total_fisheries_revenue_or","total_fisheries_revenue_wa","total_fisheries_revenue_ca","total_fisheries_revenue_coastwide","total_fisheries_revenue_or","total_fisheries_revenue_wa","total_fisheries_revenue_ca","total_fisheries_revenue_coastwide","total_fisheries_revenue_or","total_fisheries_revenue_wa","total_fisheries_revenue_ca","total_fisheries_revenue_coastwide","total_fisheries_revenue_or","total_fisheries_revenue_wa","total_fisheries_revenue_ca","total_fisheries_revenue_coastwide","total_fisheries_revenue_or","total_fisheries_revenue_wa","total_fisheries_revenue_ca","total_fisheries_revenue_coastwide","total_fisheries_revenue_or","total_fisheries_revenue_wa","total_fisheries_revenue_ca","total_fisheries_revenue_coastwide","total_fisheries_revenue_or","total_fisheries_revenue_wa","total_fisheries_revenue_ca","total_fisheries_revenue_coastwide","total_fisheries_revenue_or","total_fisheries_revenue_wa","total_fisheries_revenue_ca","total_fisheries_revenue_coastwide","total_fisheries_revenue_or","total_fisheries_revenue_wa","total_fisheries_revenue_ca","total_fisheries_revenue_coastwide","total_fisheries_revenue_or","total_fisheries_revenue_wa","total_fisheries_revenue_ca","total_fisheries_revenue_coastwide","total_fisheries_revenue_or","total_fisheries_revenue_wa","total_fisheries_revenue_ca","total_fisheries_revenue_coastwide","total_fisheries_revenue_or","total_fisheries_revenue_wa","total_fisheries_revenue_ca","total_fisheries_revenue_coastwide","total_fisheries_revenue_or","total_fisheries_revenue_wa","total_fisheries_revenue_ca","total_fisheries_revenue_coastwide","total_fisheries_revenue_or","total_fisheries_revenue_wa","total_fisheries_revenue_ca","total_fisheries_revenue_coastwide","total_fisheries_revenue_or","total_fisheries_revenue_wa","total_fisheries_revenue_ca","total_fisheries_revenue_coastwide","total_fisheries_revenue_or","total_fisheries_revenue_wa"],[361.73218,745.8688,162.50978,221.62683,353.93332,721.13403,146.05115,221.14958,346.22916,578.6155,94.752014,137.63432,320.9361,574.1629,85.664566,167.56224,271.73944,586.1377,104.41137,209.98692,282.94305,645.53094,153.69577,208.89212,342.73645,844.0349,213.80852,287.48996,374.8401,884.9662,215.3039,294.8222,291.321,693.7063,160.77565,241.60962,266.4745,600.5629,139.26753,194.8209,285.06732,571.39594,127.64022,158.68837,246.80489,508.84323,128.87564,133.16266,223.86409,478.95215,106.50497,148.58307,223.52966,500.8642,110.3072,167.02731,277.20386,573.317,139.84328,156.26985,286.7257,555.9465,130.87918,138.34158,254.5092,527.6679,117.96034,155.19836,152.40706,367.63782,84.34836,130.8824,210.75441,438.4124,96.8866,130.77141,200.51323,506.79126,139.13022,167.14781,148.25436,387.0088,102.42149,136.33293,137.71295,387.4853,106.135345,143.637,157.57072,432.76245,109.68997,165.50175,172.44366,489.54605,141.38007,175.7223,174.99821,517.85223,161.31662,181.53741,161.4941,480.68527,139.93692,179.25426,157.39717,467.4202,130.30962,179.71341,138.24156,512.49585,150.49887,223.75543,164.09813,453.80682,109.421555,180.28712,201.86139,584.7683,149.16336,233.74358,240.65817,749.9219,194.01657,315.24713,273.75418,711.2088,179.71385,257.74075,263.59125,746.77356,210.26495,272.91736,252.96075,727.9395,214.74638,260.23242,184.50212,602.1406,165.28351,252.35497,162.85358,619.4114,188.05083,268.50696,229.5135,695.57367,186.8704,279.1898,190.87851,650.6496,201.88347,257.88757,141.35948,546.5579,184.57875,220.6197,144.76035,431.23926,169.77666,116.70225]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>time<\/th>\n      <th>name<\/th>\n      <th>value<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":3},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="summarize-with-dplyr" class="section level3" number="1.2.4">
<h3><span class="header-section-number">1.2.4</span> Summarize with <code>dplyr</code></h3>
<p>Now that we have the data in <strong>long</strong> format, we can:</p>
<ol style="list-style-type: decimal">
<li><p><strong>Mutate</strong> a new <code>region</code> from the original full column <code>name</code> by using stringr’s <code>str_replace()</code> function.</p></li>
<li><p><strong>Select</strong> for just the columns of interest (we no longer need <code>name</code>).</p></li>
<li><p><strong>Summarize</strong> by <code>region</code>, which we want to first <code>group_by()</code>, then <code>summarize()</code> the <code>mean()</code> of <code>value</code> to a new column <code>avg_revenue</code>).</p></li>
<li><p><strong>Format</strong> the <code>avg_revenue</code> as a currency with DT’s <code>formatCurrency()</code>).</p></li>
</ol>
<p>Add a new subsection in your Rmd:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">### Summarize with `dplyr`</span></span></code></pre></div>
<p>And a new R Chunk:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> d <span class="sc">%&gt;%</span> </span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">region =</span> <span class="fu">str_replace</span>(name, <span class="st">&quot;total_fisheries_revenue_&quot;</span>, <span class="st">&quot;&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(time, region, value)</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(d)</span></code></pre></div>
<div id="htmlwidget-d74d0280625eef36daaf" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-d74d0280625eef36daaf">{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160"],["1981-01-01","1981-01-01","1981-01-01","1981-01-01","1982-01-01","1982-01-01","1982-01-01","1982-01-01","1983-01-01","1983-01-01","1983-01-01","1983-01-01","1984-01-01","1984-01-01","1984-01-01","1984-01-01","1985-01-01","1985-01-01","1985-01-01","1985-01-01","1986-01-01","1986-01-01","1986-01-01","1986-01-01","1987-01-01","1987-01-01","1987-01-01","1987-01-01","1988-01-01","1988-01-01","1988-01-01","1988-01-01","1989-01-01","1989-01-01","1989-01-01","1989-01-01","1990-01-01","1990-01-01","1990-01-01","1990-01-01","1991-01-01","1991-01-01","1991-01-01","1991-01-01","1992-01-01","1992-01-01","1992-01-01","1992-01-01","1993-01-01","1993-01-01","1993-01-01","1993-01-01","1994-01-01","1994-01-01","1994-01-01","1994-01-01","1995-01-01","1995-01-01","1995-01-01","1995-01-01","1996-01-01","1996-01-01","1996-01-01","1996-01-01","1997-01-01","1997-01-01","1997-01-01","1997-01-01","1998-01-01","1998-01-01","1998-01-01","1998-01-01","1999-01-01","1999-01-01","1999-01-01","1999-01-01","2000-01-01","2000-01-01","2000-01-01","2000-01-01","2001-01-01","2001-01-01","2001-01-01","2001-01-01","2002-01-01","2002-01-01","2002-01-01","2002-01-01","2003-01-01","2003-01-01","2003-01-01","2003-01-01","2004-01-01","2004-01-01","2004-01-01","2004-01-01","2005-01-01","2005-01-01","2005-01-01","2005-01-01","2006-01-01","2006-01-01","2006-01-01","2006-01-01","2007-01-01","2007-01-01","2007-01-01","2007-01-01","2008-01-01","2008-01-01","2008-01-01","2008-01-01","2009-01-01","2009-01-01","2009-01-01","2009-01-01","2010-01-01","2010-01-01","2010-01-01","2010-01-01","2011-01-01","2011-01-01","2011-01-01","2011-01-01","2012-01-01","2012-01-01","2012-01-01","2012-01-01","2013-01-01","2013-01-01","2013-01-01","2013-01-01","2014-01-01","2014-01-01","2014-01-01","2014-01-01","2015-01-01","2015-01-01","2015-01-01","2015-01-01","2016-01-01","2016-01-01","2016-01-01","2016-01-01","2017-01-01","2017-01-01","2017-01-01","2017-01-01","2018-01-01","2018-01-01","2018-01-01","2018-01-01","2019-01-01","2019-01-01","2019-01-01","2019-01-01","2020-01-01","2020-01-01","2020-01-01","2020-01-01"],["ca","coastwide","or","wa","ca","coastwide","or","wa","ca","coastwide","or","wa","ca","coastwide","or","wa","ca","coastwide","or","wa","ca","coastwide","or","wa","ca","coastwide","or","wa","ca","coastwide","or","wa","ca","coastwide","or","wa","ca","coastwide","or","wa","ca","coastwide","or","wa","ca","coastwide","or","wa","ca","coastwide","or","wa","ca","coastwide","or","wa","ca","coastwide","or","wa","ca","coastwide","or","wa","ca","coastwide","or","wa","ca","coastwide","or","wa","ca","coastwide","or","wa","ca","coastwide","or","wa","ca","coastwide","or","wa","ca","coastwide","or","wa","ca","coastwide","or","wa","ca","coastwide","or","wa","ca","coastwide","or","wa","ca","coastwide","or","wa","ca","coastwide","or","wa","ca","coastwide","or","wa","ca","coastwide","or","wa","ca","coastwide","or","wa","ca","coastwide","or","wa","ca","coastwide","or","wa","ca","coastwide","or","wa","ca","coastwide","or","wa","ca","coastwide","or","wa","ca","coastwide","or","wa","ca","coastwide","or","wa","ca","coastwide","or","wa","ca","coastwide","or","wa","ca","coastwide","or","wa"],[361.73218,745.8688,162.50978,221.62683,353.93332,721.13403,146.05115,221.14958,346.22916,578.6155,94.752014,137.63432,320.9361,574.1629,85.664566,167.56224,271.73944,586.1377,104.41137,209.98692,282.94305,645.53094,153.69577,208.89212,342.73645,844.0349,213.80852,287.48996,374.8401,884.9662,215.3039,294.8222,291.321,693.7063,160.77565,241.60962,266.4745,600.5629,139.26753,194.8209,285.06732,571.39594,127.64022,158.68837,246.80489,508.84323,128.87564,133.16266,223.86409,478.95215,106.50497,148.58307,223.52966,500.8642,110.3072,167.02731,277.20386,573.317,139.84328,156.26985,286.7257,555.9465,130.87918,138.34158,254.5092,527.6679,117.96034,155.19836,152.40706,367.63782,84.34836,130.8824,210.75441,438.4124,96.8866,130.77141,200.51323,506.79126,139.13022,167.14781,148.25436,387.0088,102.42149,136.33293,137.71295,387.4853,106.135345,143.637,157.57072,432.76245,109.68997,165.50175,172.44366,489.54605,141.38007,175.7223,174.99821,517.85223,161.31662,181.53741,161.4941,480.68527,139.93692,179.25426,157.39717,467.4202,130.30962,179.71341,138.24156,512.49585,150.49887,223.75543,164.09813,453.80682,109.421555,180.28712,201.86139,584.7683,149.16336,233.74358,240.65817,749.9219,194.01657,315.24713,273.75418,711.2088,179.71385,257.74075,263.59125,746.77356,210.26495,272.91736,252.96075,727.9395,214.74638,260.23242,184.50212,602.1406,165.28351,252.35497,162.85358,619.4114,188.05083,268.50696,229.5135,695.57367,186.8704,279.1898,190.87851,650.6496,201.88347,257.88757,141.35948,546.5579,184.57875,220.6197,144.76035,431.23926,169.77666,116.70225]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>time<\/th>\n      <th>region<\/th>\n      <th>value<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":3},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>d_sum <span class="ot">&lt;-</span> d <span class="sc">%&gt;%</span> </span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(region) <span class="sc">%&gt;%</span> </span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">avg_revenue =</span> <span class="fu">mean</span>(value))</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(d_sum) <span class="sc">%&gt;%</span> </span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">formatCurrency</span>(<span class="st">&quot;avg_revenue&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-cdc207d7137a6208e91a" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-cdc207d7137a6208e91a">{"x":{"filter":"none","data":[["1","2","3","4"],["ca","coastwide","or","wa"],[231.8292215,577.49490075,146.35188625,199.31379025]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>region<\/th>\n      <th>avg_revenue<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"targets":2,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatCurrency(data, \"$\", 2, 3, \",\", \".\", true);\n  }"},{"className":"dt-right","targets":2},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":["options.columnDefs.0.render"],"jsHooks":[]}</script>
</div>
<div id="apply-functions-with-purrr-on-a-nested-tibble" class="section level3" number="1.2.5">
<h3><span class="header-section-number">1.2.5</span> Apply functions with <code>purrr</code> on a <code>nest</code>’ed <code>tibble</code></h3>
<p>One of the major innovations of a <code>tibble</code> is the ability to store nearly any object in the cell of a table as a <strong>list column</strong>. This could be an entire table, a fitted model, plot, etc. Let’s try out these features driven by the question: <strong>What’s the trend over time for fishing revenue by region?</strong></p>
<ol style="list-style-type: decimal">
<li><p>The creation of tables within cells is most commonly done with tidyr’s <code>nest()</code> function based on a grouping of values in a column, i.e. dplyr’s <code>group_by()</code>.</p></li>
<li><p>The <code>purrr</code> R package provides functions to operate on list objects, in this case the nested data. and application of functions on these data with purrr’s <code>map</code> function. We can feed the <code>data</code> object into an anonymous function where we fit the linear model <code>lm()</code> and return a list object. To then extract the coefficient from the model <code>coef(summary())</code>, we want to return a type of <strong>double</strong> (not another list object), so we use the <code>map_dbl()</code> function.</p></li>
</ol>
<p>Add a new subsection in your Rmd:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">### Apply functions with `purrr` on a `nest`&#39;ed `tibble`</span></span></code></pre></div>
<p>And a new R Chunk:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(purrr)</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> d <span class="sc">%&gt;%</span> </span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(region) <span class="sc">%&gt;%</span> </span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">nest</span>(</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> <span class="fu">c</span>(time, value))</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>n</span></code></pre></div>
<pre><code>## # A tibble: 4 x 2
## # Groups:   region [4]
##   region    data             
##   &lt;chr&gt;     &lt;list&gt;           
## 1 ca        &lt;tibble [40 × 2]&gt;
## 2 coastwide &lt;tibble [40 × 2]&gt;
## 3 or        &lt;tibble [40 × 2]&gt;
## 4 wa        &lt;tibble [40 × 2]&gt;</code></pre>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> n <span class="sc">%&gt;%</span> </span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">lm    =</span> <span class="fu">map</span>(data, <span class="cf">function</span>(d){</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">lm</span>(value <span class="sc">~</span> time, d) } ),</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">trend =</span> <span class="fu">map_dbl</span>(lm, <span class="cf">function</span>(m){</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>      <span class="fu">coef</span>(<span class="fu">summary</span>(m))[<span class="st">&quot;time&quot;</span>,<span class="st">&quot;Estimate&quot;</span>] }))</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>n</span></code></pre></div>
<pre><code>## # A tibble: 4 x 4
## # Groups:   region [4]
##   region    data              lm        trend
##   &lt;chr&gt;     &lt;list&gt;            &lt;list&gt;    &lt;dbl&gt;
## 1 ca        &lt;tibble [40 × 2]&gt; &lt;lm&gt;   -0.0117 
## 2 coastwide &lt;tibble [40 × 2]&gt; &lt;lm&gt;   -0.00454
## 3 or        &lt;tibble [40 × 2]&gt; &lt;lm&gt;    0.00379
## 4 wa        &lt;tibble [40 × 2]&gt; &lt;lm&gt;    0.00333</code></pre>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>n <span class="sc">%&gt;%</span> </span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(region, trend) <span class="sc">%&gt;%</span> </span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">datatable</span>()</span></code></pre></div>
<div id="htmlwidget-f2c0b2d4d074c46f32ab" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-f2c0b2d4d074c46f32ab">{"x":{"filter":"none","data":[["1","2","3","4"],["ca","coastwide","or","wa"],[-0.0116584286006428,-0.00453780618345593,0.00379257081447128,0.00332805171887424]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>region<\/th>\n      <th>trend<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":2},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="rmarkdown-output-options" class="section level2" number="1.3">
<h2><span class="header-section-number">1.3</span> Rmarkdown output options</h2>
<p>If you’d like to render your Rmarkdown into HTML with a table of contents (<code>toc</code>), showing up to 3rd level headings (i.e. <code>### Heading</code>; use <code>toc_depth: 3</code>) and have a floating menu (<code>toc_float</code>), along with the ability to Show (or Hide) your Code Chunks (<code>code_folding</code>), then replace this default front matter yaml:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">output</span><span class="kw">:</span><span class="at"> html_document</span></span></code></pre></div>
<p>with:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">output</span><span class="kw">:</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">html_document</span><span class="kw">:</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">toc</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">toc_depth</span><span class="kw">:</span><span class="at"> </span><span class="dv">3</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">toc_float</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">code_folding</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;show&quot;</span></span></code></pre></div>
<p>For details, see <a href="https://bookdown.org/yihui/rmarkdown/html-document.html">3.1 HTML document | R Markdown: The Definitive Guide</a>.</p>
</div>
<div id="further-reading" class="section level2 unnumbered">
<h2>Further Reading</h2>
<div id="cheatsheets" class="section level3 unnumbered">
<h3>Cheatsheets</h3>
<p><a href="https://www.rstudio.com/resources/cheatsheets">RStudio Cheatsheets</a> (most also available via RStudio menu <strong>Help</strong> &gt; <strong>Cheat Sheets</strong>):</p>
<ul>
<li><a href="https://github.com/rstudio/cheatsheets/raw/master/rstudio-ide.pdf">RStudio IDE</a>: RStudio interface</li>
<li><a href="https://github.com/rstudio/cheatsheets/raw/master/data-import.pdf">Data Import</a>: <code>readr</code>, <code>tidyr</code></li>
<li><a href="https://github.com/rstudio/cheatsheets/raw/master/data-transformation.pdf">Data Transformation</a>: <code>dplyr</code></li>
<li><a href="https://github.com/rstudio/cheatsheets/raw/master/purrr.pdf">Apply functions with <code>purrr</code></a></li>
<li><a href="https://github.com/rstudio/cheatsheets/raw/master/lubridate.pdf">Dates and Times Cheatsheet</a>: <code>lubridate</code></li>
<li><a href="https://github.com/rstudio/cheatsheets/raw/master/strings.pdf">Work with Strings Cheatsheet</a>: <code>stringr</code></li>
<li><a href="https://github.com/rstudio/cheatsheets/raw/master/regex.pdf">Regular Expressions Cheatsheet</a>: <code>stringr</code> + regex</li>
<li><a href="https://github.com/rstudio/cheatsheets/raw/master/tidyeval.pdf">Tidy Evaluation with rlang</a>: advanced topics on how to use non-standard evaluation (i.e. unquoted strings referencing columns or other variables), especially for creating functions to handle tidy data</li>
</ul>
</div>
</div>
<div id="further-learning-objectives" class="section level2 unnumbered">
<h2>Further Learning Objectives</h2>
<p>For another day…</p>
<ol style="list-style-type: decimal">
<li><p><strong>Pipe</strong> commands with <code>%&gt;%</code> from <code>dplyr</code> for feeding the output of the function on the left as the first input argument to the function on the right.<br />
</p></li>
<li><p><strong>Read</strong> online table.<br />
</p>
<ol style="list-style-type: decimal">
<li><p><strong>Download</strong> a tabular file, in commonly used comma-separated value (<strong>*.csv</strong>) format, from the URL of a dataset on an <strong>ERDDAP</strong> server.</p></li>
<li><p><strong>Read</strong> a CSV file into a <code>data.frame()</code> using base R <code>utils::read.csv()</code> and compare with the tidyverse R function <code>readr::read_csv()</code>. Understand the difference in how characters are handled as <strong>factors</strong> versus <strong>character</strong>.</p></li>
<li><p><strong>APIs</strong>, or application programming languages, provide a consistent way to query an online resource (with query parameters in a GET URL or longer forms with a POST from a form) and return information (typically as JSON), on reading csv directly from URL and using <code>rerddap</code> R package to access ERDDAP, which is an <strong>API</strong> that you could directly read with <code>httr</code> R package. For building your own API, see <a href="https://www.rplumber.io"><code>plumber</code></a> (and <a href="https://github.com/rstudio/cheatsheets/raw/master/plumber.pdf">REST APIs with Plumber Cheatsheet</a>).<br />
</p></li>
</ol></li>
<li><p><strong>Show</strong> the table.</p>
<ol style="list-style-type: decimal">
<li><p><strong>Show</strong> the <code>data.frame</code> in the R console. Display a <code>summary()</code>. Convert the <code>data.frame</code> to a tidyverse <code>tibble()</code> and show it again, now with a more informative summary. <code>View()</code> the table in RStudio.</p></li>
<li><p><strong>Render</strong> the table into HTML with <code>DT::datatable()</code>. Render the Rmarkdown document to <code>pdf</code> and <code>docx</code> to see the shortcomings of this htmlwidget in these formats. Use <code>knitr::kable()</code> for simple tables and the <code>huxtable</code> R package for these non-HTML formats.<br />
</p></li>
</ol></li>
<li><p><strong>Manipulate</strong> with <code>dplyr</code>.</p>
<p>See <a href="https://github.com/rstudio/cheatsheets/raw/master/data-transformation.pdf">Data Transformation Cheatsheet</a>.</p>
<ol style="list-style-type: decimal">
<li><p><strong>Select</strong> columns of information with <code>select()</code>, optionally using select operators like <code>starts_with()</code>, <code>ends_with()</code> and <code>everything()</code>. Use <code>rename()</code> to only rename existing columns.</p></li>
<li><p><strong>Filter</strong> rows of information based on values in columns with <code>filter()</code>. <strong>Slice</strong> data based on row numbers.</p></li>
<li><p><strong>Arrange</strong> rows by values in one or more columns with <code>arrange()</code>. Arrange in ascending (default) or descending (<code>desc()</code>) order. Use <strong>factors</strong> to customize the sort order.</p></li>
<li><p><strong>Pull</strong> values with <code>pull()</code> into a single <code>vector</code> (versus the default <code>data.frame</code> output).</p></li>
<li><p><strong>Mutate</strong> a new column with <code>mutate()</code>, possibly derived from other column(s). Use <code>glue::glue()</code> to combine character columns, <code>stringr</code> R package to manipulate character strings, and <code>lubridate</code> R package for dates.<br />
<br />
See <a href="https://github.com/rstudio/cheatsheets/raw/master/lubridate.pdf">Dates and Times Cheatsheet</a>, <a href="https://github.com/rstudio/cheatsheets/raw/master/strings.pdf">Work with Strings Cheatsheet</a>, <a href="https://github.com/rstudio/cheatsheets/raw/master/regex.pdf">Regular Expressions Cheatsheet</a>.</p></li>
<li><p><strong>Summarize</strong> all rows with <code>summarize()</code>. Precede this with <code>group_by()</code> to summarize based on rows with common values of a given column.</p></li>
<li><p><strong>Join</strong> two tables on a common column with <code>left_join()</code> (all from left; matching from right) or <code>inner_join()</code> (matching from left and right). Get unmatched values with <code>anti_join()</code>.</p></li>
</ol></li>
<li><p><strong>Nest</strong> tables <strong>Unnest</strong>. Get climatology by group as data, save linear model in cell, plot in cell. List column concept. Purrr <code>purrr::map()</code> function.</p>
<p>See <a href="https://github.com/rstudio/cheatsheets/raw/master/data-import.pdf">Data Import Cheatsheet</a>, <a href="https://github.com/rstudio/cheatsheets/raw/master/purrr.pdf">Apply Functions Cheatsheet</a> .</p></li>
<li><p>Create a function to use an argument.<br />
See <a href="https://github.com/rstudio/cheatsheets/raw/master/tidyeval.pdf">Tidy Evaluation with rlang Cheatsheet</a></p></li>
<li><p><strong>Pivot</strong> tables between wide and long formats. How would you summarize by group without a long format? A: it would be a painful for loop.</p></li>
<li><p><strong>Relational database</strong> concepts with sqlite. And using <code>tbl(con, "table")</code>, <code>sql_show()</code> and <code>collect()</code>. Migrate from CSV to sqlite to PostgreSQL to PostGIS to BigQuery. Dplyr as the middle layer (and dbplyr). See db.rstudio.com for more, especially on previewing SQL results with <code>conn</code>. Compare dplyr commands to SQL.</p>
<p>See <a href="https://db.rstudio.com">Databases using R</a>.</p></li>
<li><p><strong>Compare</strong> all of the above tidyverse operations with <strong>base R</strong> functions and note the readability (i.e. cognitive load) for understanding the analyses.</p></li>
</ol>
</div>
</div>
            </section>

          </div>
        </div>
      </div>


    </div>
  </div>
<script src="site_libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="site_libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="site_libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="site_libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="site_libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="site_libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="site_libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="site_libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="site_libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
},
"search": false
});
});
</script>

</body>

</html>
